<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MarketplaceProject: MarketPlaceFrontend/marketplacefrontend/node_modules/js-tokens Directory Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MarketplaceProject
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('dir_af8dad7572cc4bf8403b827b4977b4b8.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">js-tokens Directory Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Directory dependency graph for js-tokens:</div>
<div class="dyncontent">
<div class="center"><!-- SVG 0 --></div>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 id="header-files" class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:index_2Ejs" id="r_index_2Ejs"><td class="memItemLeft"><span class="icondoc"><div class="doc-icon"></div></span>&#160;</td><td class="memItemRight"><a class="el" href="js-tokens_2index_8js.html">index.js</a></td></tr>
</table>
<a name="details" id="details"></a><h2 id="header-details" class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A regex that tokenizes JavaScript.</p>
<div class="fragment"><div class="line">var jsTokens = require(&quot;js-tokens&quot;).default</div>
<div class="line"> </div>
<div class="line">var jsString = &quot;var foo=opts.foo;\n...&quot;</div>
<div class="line"> </div>
<div class="line">jsString.match(jsTokens)</div>
<div class="line">// [&quot;var&quot;, &quot; &quot;, &quot;foo&quot;, &quot;=&quot;, &quot;opts&quot;, &quot;.&quot;, &quot;foo&quot;, &quot;;&quot;, &quot;\n&quot;, ...]</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md1364"></a>
Installation</h1>
<p><span class="tt">npm install js-tokens</span></p>
<div class="fragment"><div class="line">import jsTokens from &quot;js-tokens&quot;</div>
<div class="line">// or:</div>
<div class="line">var jsTokens = require(&quot;js-tokens&quot;).default</div>
</div><!-- fragment --><h1 class="doxsection"><a class="anchor" id="autotoc_md1365"></a>
Usage</h1>
<h3 class="doxsection"><a class="anchor" id="autotoc_md1366"></a>
<span class="tt">jsTokens</span></h3>
<p>A regex with the <span class="tt">g</span> flag that matches JavaScript tokens.</p>
<p>The regex <em>always</em> matches, even invalid JavaScript and the empty string.</p>
<p>The next match is always directly after the previous.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md1367"></a>
<span class="tt">var token = matchToToken(match)</span></h3>
<div class="fragment"><div class="line">import {matchToToken} from &quot;js-tokens&quot;</div>
<div class="line">// or:</div>
<div class="line">var matchToToken = require(&quot;js-tokens&quot;).matchToToken</div>
</div><!-- fragment --><p>Takes a <span class="tt">match</span> returned by <span class="tt">jsTokens.exec(string)</span>, and returns a <span class="tt">{type:
String, value: String}</span> object. The following types are available:</p>
<ul>
<li>string</li>
<li>comment</li>
<li>regex</li>
<li>number</li>
<li>name</li>
<li>punctuator</li>
<li>whitespace</li>
<li>invalid</li>
</ul>
<p>Multi-line comments and strings also have a <span class="tt">closed</span> property indicating if the token was closed or not (see below).</p>
<p>Comments and strings both come in several flavors. To distinguish them, check if the token starts with <span class="tt">//</span>, <span class="tt">/*</span>, <span class="tt">'</span>, <span class="tt">"</span> or <span class="tt"> ` </span>.</p>
<p>Names are ECMAScript IdentifierNames, that is, including both identifiers and keywords. You may use <a href="https://github.com/crissdev/is-keyword-js">is-keyword-js</a> to tell them apart.</p>
<p>Whitespace includes both line terminators and other whitespace.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1368"></a>
ECMAScript support</h1>
<p>The intention is to always support the latest ECMAScript version whose feature set has been finalized.</p>
<p>If adding support for a newer version requires changes, a new version with a major verion bump will be released.</p>
<p>Currently, ECMAScript 2018 is supported.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1369"></a>
Invalid code handling</h1>
<p>Unterminated strings are still matched as strings. JavaScript strings cannot contain (unescaped) newlines, so unterminated strings simply end at the end of the line. Unterminated template strings can contain unescaped newlines, though, so they go on to the end of input.</p>
<p>Unterminated multi-line comments are also still matched as comments. They simply go on to the end of the input.</p>
<p>Unterminated regex literals are likely matched as division and whatever is inside the regex.</p>
<p>Invalid ASCII characters have their own capturing group.</p>
<p>Invalid non-ASCII characters are treated as names, to simplify the matching of names (except unicode spaces which are treated as whitespace). Note: See also the ES2018 section.</p>
<p>Regex literals may contain invalid regex syntax. They are still matched as regex literals. They may also contain repeated regex flags, to keep the regex simple.</p>
<p>Strings may contain invalid escape sequences.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1370"></a>
Limitations</h1>
<p>Tokenizing JavaScript using regexes—in fact, _one single regex_—won’t be perfect. But that’s not the point either.</p>
<p>You may compare jsTokens with <a href="http://esprima.org/">esprima</a> by using <span class="tt">esprima-compare.js</span>. See <span class="tt">npm run esprima-compare</span>!</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md1371"></a>
Template string interpolation</h3>
<p>Template strings are matched as single tokens, from the starting <span class="tt"> ` </span> to the ending <span class="tt"> ` </span>, including interpolations (whose tokens are not matched individually).</p>
<p>Matching template string interpolations requires recursive balancing of <span class="tt">{</span> and <span class="tt">}</span>—something that JavaScript regexes cannot do. Only one level of nesting is supported.</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md1372"></a>
Division and regex literals collision</h3>
<p>Consider this example:</p>
<div class="fragment"><div class="line">var g = 9.82</div>
<div class="line">var number = bar / 2/g</div>
<div class="line"> </div>
<div class="line">var regex = / 2/g</div>
</div><!-- fragment --><p>A human can easily understand that in the <span class="tt">number</span> line we’re dealing with division, and in the <span class="tt">regex</span> line we’re dealing with a regex literal. How come? Because humans can look at the whole code to put the <span class="tt">/</span> characters in context. A JavaScript regex cannot. It only sees forwards. (Well, ES2018 regexes can also look backwards. See the ES2018 section).</p>
<p>When the <span class="tt">jsTokens</span> regex scans throught the above, it will see the following at the end of both the <span class="tt">number</span> and <span class="tt">regex</span> rows:</p>
<div class="fragment"><div class="line">/ 2/g</div>
</div><!-- fragment --><p>It is then impossible to know if that is a regex literal, or part of an expression dealing with division.</p>
<p>Here is a similar case:</p>
<div class="fragment"><div class="line">foo /= 2/g</div>
<div class="line">foo(/= 2/g)</div>
</div><!-- fragment --><p>The first line divides the <span class="tt">foo</span> variable with <span class="tt">2/g</span>. The second line calls the <span class="tt">foo</span> function with the regex literal <span class="tt">/= 2/g</span>. Again, since <span class="tt">jsTokens</span> only sees forwards, it cannot tell the two cases apart.</p>
<p>There are some cases where we <em>can</em> tell division and regex literals apart, though.</p>
<p>First off, we have the simple cases where there’s only one slash in the line:</p>
<div class="fragment"><div class="line">var foo = 2/g</div>
<div class="line">foo /= 2</div>
</div><!-- fragment --><p>Regex literals cannot contain newlines, so the above cases are correctly identified as division. Things are only problematic when there are more than one non-comment slash in a single line.</p>
<p>Secondly, not every character is a valid regex flag.</p>
<div class="fragment"><div class="line">var number = bar / 2/e</div>
</div><!-- fragment --><p>The above example is also correctly identified as division, because <span class="tt">e</span> is not a valid regex flag. I initially wanted to future-proof by allowing <span class="tt">[a-zA-Z]*</span> (any letter) as flags, but it is not worth it since it increases the amount of ambigous cases. So only the standard <span class="tt">g</span>, <span class="tt">m</span>, <span class="tt">i</span>, <span class="tt">y</span> and <span class="tt">u</span> flags are allowed. This means that the above example will be identified as division as long as you don’t rename the <span class="tt">e</span> variable to some permutation of <span class="tt">gmiyus</span> 1 to 6 characters long.</p>
<p>Lastly, we can look <em>forward</em> for information.</p>
<ul>
<li>If the token following what looks like a regex literal is not valid after a regex literal, but is valid in a division expression, then the regex literal is treated as division instead. For example, a flagless regex cannot be followed by a string, number or name, but all of those three can be the denominator of a division.</li>
<li>Generally, if what looks like a regex literal is followed by an operator, the regex literal is treated as division instead. This is because regexes are seldomly used with operators (such as <span class="tt">+</span>, <span class="tt">*</span>, <span class="tt">&amp;&amp;</span> and <span class="tt">==</span>), but division could likely be part of such an expression.</li>
</ul>
<p>Please consult the regex source and the test cases for precise information on when regex or division is matched (should you need to know). In short, you could sum it up as:</p>
<p>If the end of a statement looks like a regex literal (even if it isn’t), it will be treated as one. Otherwise it should work as expected (if you write sane code).</p>
<h3 class="doxsection"><a class="anchor" id="autotoc_md1373"></a>
ES2018</h3>
<p>ES2018 added some nice regex improvements to the language.</p>
<ul>
<li><a href="http://2ality.com/2017/07/regexp-unicode-property-escapes.html">Unicode property escapes</a> should allow telling names and invalid non-ASCII characters apart without blowing up the regex size.</li>
<li><a href="http://2ality.com/2017/05/regexp-lookbehind-assertions.html">Lookbehind assertions</a> should allow matching telling division and regex literals apart in more cases.</li>
<li><a href="http://2ality.com/2017/05/regexp-named-capture-groups.html">Named capture groups</a> might simplify some things.</li>
</ul>
<p>These things would be nice to do, but are not critical. They probably have to wait until the oldest maintained Node.js LTS release supports those features.</p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1374"></a>
License</h1>
<p>[MIT](LICENSE). </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a href="dir_f044dd1c0f08a9aab8c9d43fc9426d22.html">MarketPlaceFrontend</a></li><li class="navelem"><a href="dir_5f91dcb3b785f75439ebadea237bfcd0.html">marketplacefrontend</a></li><li class="navelem"><a href="dir_3539dd930819c98c73993ee5e08c0ce8.html">node_modules</a></li><li class="navelem"><a href="dir_af8dad7572cc4bf8403b827b4977b4b8.html">js-tokens</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
