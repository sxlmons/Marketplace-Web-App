<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.16.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MarketplaceProject: &lt;tt&gt;react-router&lt;/tt&gt;</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MarketplaceProject
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.16.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search/",'.html');
</script>
<script type="text/javascript">
$(function() { codefold.init(); });
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(function(){initNavTree('md__market_place_frontend_2marketplacefrontend_2node__modules_2react-router_2_c_h_a_n_g_e_l_o_g.html','',''); });
</script>
<div id="container">
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title"><span class="tt">react-router</span> </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="autotoc_md1767"></a></p>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1768"></a>
7.13.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1769"></a>
Minor Changes</h2>
<ul>
<li>Add <span class="tt">crossOrigin</span> prop to <span class="tt">Links</span> component (<a href="https://github.com/remix-run/react-router/pull/14687">#14687</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1770"></a>
Patch Changes</h2>
<ul>
<li>Fix double slash normalization for useNavigate colon urls (<a href="https://github.com/remix-run/react-router/pull/14718">#14718</a>)</li>
<li>Update failed origin checks to return a 400 status instead of a 500 (<a href="https://github.com/remix-run/react-router/pull/14737">#14737</a>)</li>
<li>Bugfix #14666: Inline criticalCss is missing nonce (<a href="https://github.com/remix-run/react-router/pull/14691">#14691</a>)</li>
<li>Loosen <span class="tt">allowedActionOrigins</span> glob check so <span class="tt">**</span> matches all domains (<a href="https://github.com/remix-run/react-router/pull/14722">#14722</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1771"></a>
7.12.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1772"></a>
Minor Changes</h2>
<ul>
<li>Add additional layer of CSRF protection by rejecting submissions to UI routes from external origins. If you need to permit access to specific external origins, you can specify them in the <span class="tt">react-router.config.ts</span> config <span class="tt">allowedActionOrigins</span> field. (<a href="https://github.com/remix-run/react-router/pull/14708">#14708</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1773"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">generatePath</span> when used with suffixed params (i.e., "/books/:id.json") (<a href="https://github.com/remix-run/react-router/pull/14269">#14269</a>)</li>
<li>Export <span class="tt">UNSAFE_createMemoryHistory</span> and <span class="tt">UNSAFE_createHashHistory</span> alongside <span class="tt">UNSAFE_createBrowserHistory</span> for consistency. These are not intended to be used for new apps but intended to help apps usiong <span class="tt">unstable_HistoryRouter</span> migrate from v6-&gt;v7 so they can adopt the newer APIs. (<a href="https://github.com/remix-run/react-router/pull/14663">#14663</a>)</li>
<li>Escape HTML in scroll restoration keys (<a href="https://github.com/remix-run/react-router/pull/14705">#14705</a>)</li>
<li>Validate redirect locations (<a href="https://github.com/remix-run/react-router/pull/14706">#14706</a>)</li>
<li>[UNSTABLE] Pass <span class="tt">&lt;Scripts nonce&gt;</span> value through to the underlying <span class="tt">importmap</span> <span class="tt">script</span> tag when using <span class="tt">future.unstable_subResourceIntegrity</span> (<a href="https://github.com/remix-run/react-router/pull/14675">#14675</a>)</li>
<li><p class="startli">[UNSTABLE] Add a new <span class="tt">future.unstable_trailingSlashAwareDataRequests</span> flag to provide consistent behavior of <span class="tt">request.pathname</span> inside <span class="tt">middleware</span>, <span class="tt">loader</span>, and <span class="tt">action</span> functions on document and data requests when a trailing slash is present in the browser URL. (<a href="https://github.com/remix-run/react-router/pull/14644">#14644</a>)</p>
<p class="startli">Currently, your HTTP and <span class="tt">request</span> pathnames would be as follows for <span class="tt">/a/b/c</span> and <span class="tt">/a/b/c/</span></p>
</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">URL <span class="tt">/a/b/c</span>  </th><th class="markdownTableHeadNone"><b>HTTP pathname</b>  </th><th class="markdownTableHeadNone"><b><span class="tt">request</span> pathname`</b>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Document</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span> ‚úÖ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Data</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c.data</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span> ‚úÖ  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">URL <span class="tt">/a/b/c/</span>  </th><th class="markdownTableHeadNone"><b>HTTP pathname</b>  </th><th class="markdownTableHeadNone"><b><span class="tt">request</span> pathname`</b>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Document</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/</span> ‚úÖ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Data</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c.data</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span> ‚ö†Ô∏è  </td></tr>
</table>
<p>With this flag enabled, these pathnames will be made consistent though a new <span class="tt">_.data</span> format for client-side <span class="tt">.data</span> requests:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">URL <span class="tt">/a/b/c</span>  </th><th class="markdownTableHeadNone"><b>HTTP pathname</b>  </th><th class="markdownTableHeadNone"><b><span class="tt">request</span> pathname`</b>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Document</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span> ‚úÖ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Data</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c.data</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c</span> ‚úÖ  </td></tr>
</table>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">URL <span class="tt">/a/b/c/</span>  </th><th class="markdownTableHeadNone"><b>HTTP pathname</b>  </th><th class="markdownTableHeadNone"><b><span class="tt">request</span> pathname`</b>  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><b>Document</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/</span>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/</span> ‚úÖ  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><b>Data</b>  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/_.data</span> ‚¨ÖÔ∏è  </td><td class="markdownTableBodyNone"><span class="tt">/a/b/c/</span> ‚úÖ  </td></tr>
</table>
<p>This a bug fix but we are putting it behind an opt-in flag because it has the potential to be a "breaking bug fix" if you are relying on the URL format for any other application or caching logic.</p>
<p>Enabling this flag also changes the format of client side <span class="tt">.data</span> requests from <span class="tt">/_root.data</span> to <span class="tt">/_.data</span> when navigating to <span class="tt">/</span> to align with the new format. This does not impact the <span class="tt">request</span> pathname which is still <span class="tt">/</span> in all cases.</p>
<ul>
<li>Preserve <span class="tt">clientLoader.hydrate=true</span> when using <span class="tt">&lt;HydratedRouter unstable_instrumentations&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/14674">#14674</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1774"></a>
7.11.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1775"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <span class="tt">&lt;HydratedRouter onError&gt;</span>/<span class="tt">&lt;RouterProvider onError&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/14546">#14546</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1776"></a>
Patch Changes</h2>
<ul>
<li>add support for throwing redirect Response's at RSC render time (<a href="https://github.com/remix-run/react-router/pull/14596">#14596</a>)</li>
<li>Support for throwing <span class="tt">data()</span> and Response from server component render phase. Response body is not serialized as async work is not allowed as error encoding phase. If you wish to transmit data to the boundary, throw <span class="tt">data()</span> instead. (<a href="https://github.com/remix-run/react-router/pull/14632">#14632</a>)</li>
<li>Fix <span class="tt">unstable_useTransitions</span> prop on <span class="tt">&lt;Router&gt;</span> component to permit omission for backewards compatibility (<a href="https://github.com/remix-run/react-router/pull/14646">#14646</a>)</li>
<li><span class="tt">routeRSCServerRequest</span> replace <span class="tt">fetchServer</span> with <span class="tt">serverResponse</span> (<a href="https://github.com/remix-run/react-router/pull/14597">#14597</a>)</li>
<li><p class="startli">[UNSTABLE] Add a new <span class="tt">unstable_defaultShouldRevalidate</span> flag to various APIs to allow opt-ing out of standard revalidation behaviors. (<a href="https://github.com/remix-run/react-router/pull/14542">#14542</a>)</p>
<p class="startli">If active routes include a <span class="tt">shouldRevalidate</span> function, then your value will be passed as <span class="tt">defaultShouldRevalidate</span> in those function so that the route always has the final revalidation determination.</p><ul>
<li><span class="tt">&lt;Form method="post" unstable_defaultShouldRevalidate={false}&gt;</span></li>
<li><span class="tt">submit(data, { method: "post", unstable_defaultShouldRevalidate: false })</span></li>
<li><span class="tt">&lt;fetcher.Form method="post" unstable_defaultShouldRevalidate={false}&gt;</span></li>
<li><span class="tt">fetcher.submit(data, { method: "post", unstable_defaultShouldRevalidate: false })</span></li>
</ul>
<p class="startli">This is also available on non-submission APIs that may trigger revalidations due to changing search params:</p><ul>
<li><span class="tt">&lt;Link to="/" unstable_defaultShouldRevalidate={false}&gt;</span></li>
<li><span class="tt">navigate("/?foo=bar", { unstable_defaultShouldRevalidate: false })</span></li>
<li><span class="tt">setSearchParams(params, { unstable_defaultShouldRevalidate: false })</span></li>
</ul>
</li>
<li>Allow redirects to be returned from client side middleware (<a href="https://github.com/remix-run/react-router/pull/14598">#14598</a>)</li>
<li>Handle <span class="tt">dataStrategy</span> implementations that return insufficient result sets by adding errors for routes without any available result (<a href="https://github.com/remix-run/react-router/pull/14627">#14627</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1777"></a>
7.10.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1778"></a>
Patch Changes</h2>
<ul>
<li>Update the <span class="tt">useOptimistic</span> stub we provide for React 18 users to use a stable setter function to avoid potential <span class="tt">useEffect</span> loops - specifically when using <span class="tt">&lt;Link viewTransition&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/14628">#14628</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1779"></a>
7.10.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1780"></a>
Minor Changes</h2>
<ul>
<li>Stabilize <span class="tt">fetcher.reset()</span> (<a href="https://github.com/remix-run/react-router/pull/14545">#14545</a>)<ul>
<li>‚ö†Ô∏è This is a breaking change if you have begun using <span class="tt">fetcher.unstable_reset()</span></li>
</ul>
</li>
<li><p class="startli">Stabilize the <span class="tt">dataStrategy</span> <span class="tt">match.shouldRevalidateArgs</span>/<span class="tt">match.shouldCallHandler()</span> APIs. (<a href="https://github.com/remix-run/react-router/pull/14592">#14592</a>)</p><ul>
<li>The <span class="tt">match.shouldLoad</span> API is now marked deprecated in favor of these more powerful alternatives</li>
<li><p class="startli">If you're using this API in a custom <span class="tt">dataStrategy</span> today, you can swap to the new API at your convenience:</p>
<p class="startli">```tsx // Before const matchesToLoad = matches.filter((m) =&gt; m.shouldLoad);</p>
<p class="startli">// After const matchesToLoad = matches.filter((m) =&gt; m.shouldCallHandler()); ```</p>
</li>
<li><span class="tt">match.shouldRevalidateArgs</span> is the argument that will be passed to the route <span class="tt">shouldRevaliate</span> function</li>
<li>Combined with the parameter accepted by <span class="tt">match.shouldCallHandler</span>, you can define a custom revalidation behavior for your <span class="tt">dataStrategy</span>:</li>
</ul>
<div class="fragment"><div class="line">const matchesToLoad = matches.filter((m) =&gt; {</div>
<div class="line">  const defaultShouldRevalidate = customRevalidationBehavior(</div>
<div class="line">    match.shouldRevalidateArgs,</div>
<div class="line">  );</div>
<div class="line">  return m.shouldCallHandler(defaultShouldRevalidate);</div>
<div class="line">  // The argument here will override the internal `defaultShouldRevalidate` value</div>
<div class="line">});</div>
</div><!-- fragment --></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1781"></a>
Patch Changes</h2>
<ul>
<li>Fix a Framework Mode bug where the <span class="tt">defaultShouldRevalidate</span> parameter to <span class="tt">shouldRevalidate</span> would not be correct after <span class="tt">action</span> returned a 4xx/5xx response (<span class="tt">true</span> when it should have been <span class="tt">false</span>) (<a href="https://github.com/remix-run/react-router/pull/14592">#14592</a>)<ul>
<li>If your <span class="tt">shouldRevalidate</span> function relied on that parameter, you may have seen unintended revalidations</li>
</ul>
</li>
<li>Fix <span class="tt">fetcher.submit</span> failing with plain objects containing a <span class="tt">tagName</span> property (<a href="https://github.com/remix-run/react-router/pull/14534">#14534</a>)</li>
<li>[UNSTABLE] Add <span class="tt">unstable_pattern</span> to the parameters for client side <span class="tt">unstable_onError</span>, refactor how it's called by <span class="tt">RouterProvider</span> to avoid potential strict mode issues (<a href="https://github.com/remix-run/react-router/pull/14573">#14573</a>)</li>
<li>Add new <span class="tt">unstable_useTransitions</span> flag to routers to give users control over the usage of <a href="https://react.dev/reference/react/startTransition"><span class="tt">React.startTransition</span></a> and <a href="https://react.dev/reference/react/useOptimistic"><span class="tt">React.useOptimistic</span></a>. (<a href="https://github.com/remix-run/react-router/pull/14524">#14524</a>)<ul>
<li>Framework Mode + Data Mode:<ul>
<li><span class="tt">&lt;HydratedRouter unstable_transition&gt;</span>/<span class="tt">&lt;RouterProvider unstable_transition&gt;</span></li>
<li>When left unset (current default behavior)<ul>
<li>Router state updates are wrapped in <span class="tt">React.startTransition</span></li>
<li>‚ö†Ô∏è This can lead to buggy behaviors if you are wrapping your own navigations/fetchers in <span class="tt">React.startTransition</span></li>
<li>You should set the flag to <span class="tt">true</span> if you run into this scenario to get the enhanced <span class="tt">useOptimistic</span> behavior (requires React 19)</li>
</ul>
</li>
<li>When set to <span class="tt">true</span><ul>
<li>Router state updates remain wrapped in <span class="tt">React.startTransition</span> (as they are without the flag)</li>
<li><span class="tt">Link</span>/<span class="tt">Form</span> navigations will be wrapped in <span class="tt">React.startTransition</span></li>
<li>A subset of router state info will be surfaced to the UI <em>during</em> navigations via <span class="tt">React.useOptimistic</span> (i.e., <span class="tt">useNavigation()</span>, <span class="tt">useFetchers()</span>, etc.)<ul>
<li>‚ö†Ô∏è This is a React 19 API so you must also be React 19 to opt into this flag for Framework/Data Mode</li>
</ul>
</li>
</ul>
</li>
<li>When set to <span class="tt">false</span><ul>
<li>The router will not leverage <span class="tt">React.startTransition</span> or <span class="tt">React.useOptimistic</span> on any navigations or state changes</li>
</ul>
</li>
</ul>
</li>
<li>Declarative Mode<ul>
<li><span class="tt">&lt;BrowserRouter unstable_useTransitions&gt;</span></li>
<li>When left unset<ul>
<li>Router state updates are wrapped in <span class="tt">React.startTransition</span></li>
</ul>
</li>
<li>When set to <span class="tt">true</span><ul>
<li>Router state updates remain wrapped in <span class="tt">React.startTransition</span> (as they are without the flag)</li>
<li><span class="tt">Link</span>/<span class="tt">Form</span> navigations will be wrapped in <span class="tt">React.startTransition</span></li>
</ul>
</li>
<li>When set to <span class="tt">false</span><ul>
<li>the router will not leverage <span class="tt">React.startTransition</span> on any navigations or state changes</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>Fix the promise returned from <span class="tt">useNavigate</span> in Framework/Data Mode so that it properly tracks the duration of <span class="tt">popstate</span> navigations (i.e., <span class="tt">navigate(-1)</span>) (<a href="https://github.com/remix-run/react-router/pull/14524">#14524</a>)</li>
<li>Fix internal type error in useRoute types that surfaces when skipLibCheck is disabled (<a href="https://github.com/remix-run/react-router/pull/14577">#14577</a>)</li>
<li>Preserve <span class="tt">statusText</span> on the <span class="tt">ErrorResponse</span> instance when throwing <span class="tt">data()</span> from a route handler (<a href="https://github.com/remix-run/react-router/pull/14555">#14555</a>)</li>
<li>Optimize href() to avoid backtracking regex on splat (<a href="https://github.com/remix-run/react-router/pull/14329">#14329</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1782"></a>
7.9.6</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1783"></a>
Patch Changes</h2>
<ul>
<li><p class="startli">[UNSTABLE] Add <span class="tt">location</span>/<span class="tt">params</span> as arguments to client-side <span class="tt">unstable_onError</span> to permit enhanced error reporting. (<a href="https://github.com/remix-run/react-router/pull/14509">#14509</a>)</p>
<p class="startli">‚ö†Ô∏è This is a breaking change if you've already adopted <span class="tt">unstable_onError</span>. The second <span class="tt">errorInfo</span> parameter is now an object with <span class="tt">location</span> and <span class="tt">params</span>:</p>
<div class="fragment"><div class="line">// Before</div>
<div class="line">function errorHandler(error: unknown, errorInfo?: React.errorInfo) {</div>
<div class="line">  /*...*/</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// After</div>
<div class="line">function errorHandler(</div>
<div class="line">  error: unknown,</div>
<div class="line">  info: {</div>
<div class="line">    location: Location;</div>
<div class="line">    params: Params;</div>
<div class="line">    errorInfo?: React.ErrorInfo;</div>
<div class="line">  },</div>
<div class="line">) {</div>
<div class="line">  /*...*/</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Properly handle ancestor thrown middleware errors before <span class="tt">next()</span> on fetcher submissions (<a href="https://github.com/remix-run/react-router/pull/14517">#14517</a>)</li>
<li>Fix issue with splat routes interfering with multiple calls to patchRoutesOnNavigation (<a href="https://github.com/remix-run/react-router/pull/14487">#14487</a>)</li>
<li>Normalize double-slashes in <span class="tt">resolvePath</span> (<a href="https://github.com/remix-run/react-router/pull/14529">#14529</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1784"></a>
7.9.5</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1785"></a>
Patch Changes</h2>
<ul>
<li>Move RSCHydratedRouter and utils to <span class="tt">/dom</span> export. (<a href="https://github.com/remix-run/react-router/pull/14457">#14457</a>)</li>
<li><p class="startli">useRoute: return type-safe <span class="tt">handle</span> (<a href="https://github.com/remix-run/react-router/pull/14462">#14462</a>)</p>
<p class="startli">For example:</p>
<div class="fragment"><div class="line">// app/routes/admin.tsx</div>
<div class="line">const handle = { hello: &quot;world&quot; };</div>
</div><!-- fragment --><div class="fragment"><div class="line">// app/routes/some-other-route.tsx</div>
<div class="line">export default function Component() {</div>
<div class="line">  const admin = useRoute(&quot;routes/admin&quot;);</div>
<div class="line">  if (!admin) throw new Error(&quot;Not nested within &#39;routes/admin&#39;&quot;);</div>
<div class="line">  console.log(admin.handle);</div>
<div class="line">  //                ^? { hello: string }</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>Ensure action handlers run for routes with middleware even if no loader is present (<a href="https://github.com/remix-run/react-router/pull/14443">#14443</a>)</li>
<li><p class="startli">Add <span class="tt">unstable_instrumentations</span> API to allow users to add observablity to their apps by instrumenting route loaders, actions, middlewares, lazy, as well as server-side request handlers and client side navigations/fetches (<a href="https://github.com/remix-run/react-router/pull/14412">#14412</a>)</p><ul>
<li>Framework Mode:<ul>
<li><span class="tt">entry.server.tsx</span>: <span class="tt">export const unstable_instrumentations = [...]</span></li>
<li><span class="tt">entry.client.tsx</span>: <span class="tt">&lt;HydratedRouter unstable_instrumentations={[...]} /&gt;</span></li>
</ul>
</li>
<li>Data Mode<ul>
<li><span class="tt">createBrowserRouter(routes, { unstable_instrumentations: [...] })</span></li>
</ul>
</li>
</ul>
<p class="startli">This also adds a new <span class="tt">unstable_pattern</span> parameter to loaders/actions/middleware which contains the un-interpolated route pattern (i.e., <span class="tt">/blog/:slug</span>) which is useful for aggregating performance metrics by route</p>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1786"></a>
7.9.4</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1787"></a>
Patch Changes</h2>
<ul>
<li>handle external redirects in from server actions (<a href="https://github.com/remix-run/react-router/pull/14400">#14400</a>)</li>
<li><p class="startli">New (unstable) <span class="tt">useRoute</span> hook for accessing data from specific routes (<a href="https://github.com/remix-run/react-router/pull/14407">#14407</a>)</p>
<p class="startli">For example, let's say you have an <span class="tt">admin</span> route somewhere in your app and you want any child routes of <span class="tt">admin</span> to all have access to the <span class="tt">loaderData</span> and <span class="tt">actionData</span> from <span class="tt">admin.</span></p>
<div class="fragment"><div class="line">// app/routes/admin.tsx</div>
<div class="line">import { Outlet } from &quot;react-router&quot;;</div>
<div class="line"> </div>
<div class="line">export const loader = () =&gt; ({ message: &quot;Hello, loader!&quot; });</div>
<div class="line"> </div>
<div class="line">export const action = () =&gt; ({ count: 1 });</div>
<div class="line"> </div>
<div class="line">export default function Component() {</div>
<div class="line">  return (</div>
<div class="line">    &lt;div&gt;</div>
<div class="line">      {/* ... */}</div>
<div class="line">      &lt;Outlet /&gt;</div>
<div class="line">      {/* ... */}</div>
<div class="line">    &lt;/div&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">You might even want to create a reusable widget that all of the routes nested under <span class="tt">admin</span> could use:</p>
<div class="fragment"><div class="line">import { unstable_useRoute as useRoute } from &quot;react-router&quot;;</div>
<div class="line"> </div>
<div class="line">export function AdminWidget() {</div>
<div class="line">  // How to get `message` and `count` from `admin` route?</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">In framework mode, <span class="tt">useRoute</span> knows all your app's routes and gives you TS errors when invalid route IDs are passed in:</p>
<div class="fragment"><div class="line">export function AdminWidget() {</div>
<div class="line">  const admin = useRoute(&quot;routes/dmin&quot;);</div>
<div class="line">  //                      ^^^^^^^^^^^</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli"><span class="tt">useRoute</span> returns <span class="tt">undefined</span> if the route is not part of the current page:</p>
<div class="fragment"><div class="line">export function AdminWidget() {</div>
<div class="line">  const admin = useRoute(&quot;routes/admin&quot;);</div>
<div class="line">  if (!admin) {</div>
<div class="line">    throw new Error(`AdminWidget used outside of &quot;routes/admin&quot;`);</div>
<div class="line">  }</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">Note: the <span class="tt">root</span> route is the exception since it is guaranteed to be part of the current page. As a result, <span class="tt">useRoute</span> never returns <span class="tt">undefined</span> for <span class="tt">root</span>.</p>
<p class="startli"><span class="tt">loaderData</span> and <span class="tt">actionData</span> are marked as optional since they could be accessed before the <span class="tt">action</span> is triggered or after the <span class="tt">loader</span> threw an error:</p>
<div class="fragment"><div class="line">export function AdminWidget() {</div>
<div class="line">  const admin = useRoute(&quot;routes/admin&quot;);</div>
<div class="line">  if (!admin) {</div>
<div class="line">    throw new Error(`AdminWidget used outside of &quot;routes/admin&quot;`);</div>
<div class="line">  }</div>
<div class="line">  const { loaderData, actionData } = admin;</div>
<div class="line">  console.log(loaderData);</div>
<div class="line">  //          ^? { message: string } | undefined</div>
<div class="line">  console.log(actionData);</div>
<div class="line">  //          ^? { count: number } | undefined</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">If instead of a specific route, you wanted access to the <em>current</em> route's <span class="tt">loaderData</span> and <span class="tt">actionData</span>, you can call <span class="tt">useRoute</span> without arguments:</p>
<div class="fragment"><div class="line">export function AdminWidget() {</div>
<div class="line">  const currentRoute = useRoute();</div>
<div class="line">  currentRoute.loaderData;</div>
<div class="line">  currentRoute.actionData;</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">This usage is equivalent to calling <span class="tt">useLoaderData</span> and <span class="tt">useActionData</span>, but consolidates all route data access into one hook: <span class="tt">useRoute</span>.</p>
<p class="startli">Note: when calling <span class="tt">useRoute()</span> (without a route ID), TS has no way to know which route is the current route. As a result, <span class="tt">loaderData</span> and <span class="tt">actionData</span> are typed as <span class="tt">unknown</span>. If you want more type-safety, you can either narrow the type yourself with something like <span class="tt">zod</span> or you can refactor your app to pass down typed props to your <span class="tt">AdminWidget</span>:</p>
<div class="fragment"><div class="line">export function AdminWidget({</div>
<div class="line">  message,</div>
<div class="line">  count,</div>
<div class="line">}: {</div>
<div class="line">  message: string;</div>
<div class="line">  count: number;</div>
<div class="line">}) {</div>
<div class="line">  /* ... */</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1788"></a>
7.9.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1789"></a>
Patch Changes</h2>
<ul>
<li>Do not try to use <span class="tt">turbo-stream</span> to decode CDN errors that never reached the server (<a href="https://github.com/remix-run/react-router/pull/14385">#14385</a>)<ul>
<li>We used to do this but lost this check with the adoption of single fetch</li>
</ul>
</li>
<li>Fix Data Mode regression causing a 404 during initial load in when <span class="tt">middleware</span> exists without any <span class="tt">loader</span> functions (<a href="https://github.com/remix-run/react-router/pull/14393">#14393</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1790"></a>
7.9.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1791"></a>
Patch Changes</h2>
<ul>
<li>- Update client-side router to run client <span class="tt">middleware</span> on initial load even if no loaders exist (<a href="https://github.com/remix-run/react-router/pull/14348">#14348</a>)<ul>
<li>Update <span class="tt">createRoutesStub</span> to run route middleware<ul>
<li>You will need to set the <span class="tt">&lt;RoutesStub future={{ v8_middleware: true }} /&gt;</span> flag to enable the proper <span class="tt">context</span> type</li>
</ul>
</li>
</ul>
</li>
<li>Update Lazy Route Discovery manifest requests to use a singular comma-separated <span class="tt">paths</span> query param instead of repeated <span class="tt">p</span> query params (<a href="https://github.com/remix-run/react-router/pull/14321">#14321</a>)<ul>
<li>This is because Cloudflare has a hard limit of 100 URL search param key/value pairs when used as a key for caching purposes</li>
<li>If more that 100 paths were included, the cache key would be incomplete and could produce false-positive cache hits</li>
</ul>
</li>
<li>[UNSTABLE] Add <span class="tt">fetcher.unstable_reset()</span> API (<a href="https://github.com/remix-run/react-router/pull/14206">#14206</a>)</li>
<li>Made useOutlet element reference have stable identity in-between route chages (<a href="https://github.com/remix-run/react-router/pull/13382">#13382</a>)</li>
<li>feat: enable full transition support for the rsc router (<a href="https://github.com/remix-run/react-router/pull/14362">#14362</a>)</li>
<li>In RSC Data Mode, handle SSR'd client errors and re-try in the browser (<a href="https://github.com/remix-run/react-router/pull/14342">#14342</a>)</li>
<li>Support <span class="tt">middleware</span> prop on <span class="tt">&lt;Route&gt;</span> for usage with a data router via <span class="tt">createRoutesFromElements</span> (<a href="https://github.com/remix-run/react-router/pull/14357">#14357</a>)</li>
<li>Handle encoded question mark and hash characters in ancestor splat routes (<a href="https://github.com/remix-run/react-router/pull/14249">#14249</a>)</li>
<li>Fail gracefully on manifest version mismatch logic if <span class="tt">sessionStorage</span> access is blocked (<a href="https://github.com/remix-run/react-router/pull/14335">#14335</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1792"></a>
7.9.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1793"></a>
Patch Changes</h2>
<ul>
<li>Fix internal <span class="tt">Future</span> interface naming from <span class="tt">middleware</span> -&gt; <span class="tt">v8_middleware</span> (<a href="https://github.com/remix-run/react-router/pull/14327">#14327</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1794"></a>
7.9.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1795"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Stabilize middleware and context APIs. (<a href="https://github.com/remix-run/react-router/pull/14215">#14215</a>)</p>
<p class="startli">We have removed the <span class="tt">unstable_</span> prefix from the following APIs and they are now considered stable and ready for production use:</p><ul>
<li><a href="https://reactrouter.com/api/utils/RouterContextProvider"><span class="tt">RouterContextProvider</span></a></li>
<li><a href="https://reactrouter.com/api/utils/createContext"><span class="tt">createContext</span></a></li>
<li><span class="tt">createBrowserRouter</span> <a href="https://reactrouter.com/api/data-routers/createBrowserRouter#optsgetcontext"><span class="tt">getContext</span></a> option</li>
<li><span class="tt">&lt;HydratedRouter&gt;</span> <a href="https://reactrouter.com/api/framework-routers/HydratedRouter#getcontext"><span class="tt">getContext</span></a> prop</li>
</ul>
<p class="startli">Please see the <a href="https://reactrouter.com/how-to/middleware">Middleware Docs</a>, the <a href="https://github.com/remix-run/remix/discussions/7642">Middleware RFC</a>, and the <a href="https://github.com/remix-run/react-router/discussions/9856">Client-side Context RFC</a> for more information.</p>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1796"></a>
Patch Changes</h2>
<ul>
<li>Escape HTML in <span class="tt">meta()</span> JSON-LD content (<a href="https://github.com/remix-run/react-router/pull/14316">#14316</a>)</li>
<li>Add react-server Await component implementation (<a href="https://github.com/remix-run/react-router/pull/14261">#14261</a>)</li>
<li>In RSC Data Mode when using a custom basename, fix hydration errors for routes that only have client loaders (<a href="https://github.com/remix-run/react-router/pull/14264">#14264</a>)</li>
<li>Make <span class="tt">href</span> function available in a react-server context (<a href="https://github.com/remix-run/react-router/pull/14262">#14262</a>)</li>
<li>decode each time <span class="tt">getPayload()</span> is called to allow for "in-context" decoding and hoisting of contextual assets (<a href="https://github.com/remix-run/react-router/pull/14248">#14248</a>)</li>
<li><span class="tt">href()</span> now correctly processes routes that have an extension after the parameter or are a single optional parameter. (<a href="https://github.com/remix-run/react-router/pull/13797">#13797</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1797"></a>
7.8.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1798"></a>
Patch Changes</h2>
<ul>
<li>[UNSTABLE] Remove Data Mode <span class="tt">future.unstable_middleware</span> flag from <span class="tt">createBrowserRouter</span> (<a href="https://github.com/remix-run/react-router/pull/14213">#14213</a>)<ul>
<li>This is only needed as a Framework Mode flag because of the route modules and the <span class="tt">getLoadContext</span> type behavior change</li>
<li>In Data Mode, it's an opt-in feature because it's just a new property on a route object, so there's no behavior changes that necessitate a flag</li>
</ul>
</li>
<li>[UNSTABLE] Add <span class="tt">&lt;RouterProvider unstable_onError&gt;</span>/<span class="tt">&lt;HydratedRouter unstable_onError&gt;</span> prop for client side error reporting (<a href="https://github.com/remix-run/react-router/pull/14162">#14162</a>)</li>
<li>server action revalidation opt out via $SKIP_REVALIDATION field (<a href="https://github.com/remix-run/react-router/pull/14154">#14154</a>)</li>
<li>Properly escape interpolated param values in <span class="tt">generatePath()</span> (<a href="https://github.com/remix-run/react-router/pull/13530">#13530</a>)</li>
<li>Maintain <span class="tt">ReadonlyMap</span> and <span class="tt">ReadonlySet</span> types in server response data. (<a href="https://github.com/remix-run/react-router/pull/13092">#13092</a>)</li>
<li>[UNSTABLE] Delay serialization of <span class="tt">.data</span> redirects to 202 responses until after middleware chain (<a href="https://github.com/remix-run/react-router/pull/14205">#14205</a>)</li>
<li>Fix <span class="tt">TypeError</span> if you throw from <span class="tt">patchRoutesOnNavigation</span> when no partial matches exist (<a href="https://github.com/remix-run/react-router/pull/14198">#14198</a>)</li>
<li>Fix <span class="tt">basename</span> usage without a leading slash in data routers (<a href="https://github.com/remix-run/react-router/pull/11671">#11671</a>)</li>
<li>[UNSTABLE] Update client middleware so it returns the data strategy results allowing for more advanced post-processing middleware (<a href="https://github.com/remix-run/react-router/pull/14151">#14151</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1799"></a>
7.8.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1800"></a>
Patch Changes</h2>
<ul>
<li>Fix usage of optional path segments in nested routes defined using absolute paths (<a href="https://github.com/remix-run/react-router/pull/14135">#14135</a>)</li>
<li>Bubble client pre-next middleware error to the shallowest ancestor that needs to load, not strictly the shallowest ancestor with a loader (<a href="https://github.com/remix-run/react-router/pull/14150">#14150</a>)</li>
<li>Fix optional static segment matching in <span class="tt">matchPath</span> (<a href="https://github.com/remix-run/react-router/pull/11813">#11813</a>)</li>
<li>Fix prerendering when a <span class="tt">basename</span> is set with <span class="tt">ssr:false</span> (<a href="https://github.com/remix-run/react-router/pull/13791">#13791</a>)</li>
<li>Provide <span class="tt">isRouteErrorResponse</span> utility in <span class="tt">react-server</span> environments (<a href="https://github.com/remix-run/react-router/pull/14166">#14166</a>)</li>
<li>Propagate non-redirect Responses thrown from middleware to the error boundary on document/data requests (<a href="https://github.com/remix-run/react-router/pull/14182">#14182</a>)</li>
<li>Handle <span class="tt">meta</span> and <span class="tt">links</span> Route Exports in RSC Data Mode (<a href="https://github.com/remix-run/react-router/pull/14136">#14136</a>)</li>
<li>Properly convert returned/thrown <span class="tt">data()</span> values to <span class="tt">Response</span> instances via <span class="tt">Response.json()</span> in resource routes and middleware (<a href="https://github.com/remix-run/react-router/pull/14159">#14159</a>, <a href="https://github.com/remix-run/react-router/pull/14181">#14181</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1801"></a>
7.8.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1802"></a>
Minor Changes</h2>
<ul>
<li>Add <span class="tt">nonce</span> prop to <span class="tt">Links</span> &amp; <span class="tt">PrefetchPageLinks</span> (<a href="https://github.com/remix-run/react-router/pull/14048">#14048</a>)</li>
<li>Add <span class="tt">loaderData</span> arguments/properties alongside existing <span class="tt">data</span> arguments/properties to provide consistency and clarity between <span class="tt">loaderData</span> and <span class="tt">actionData</span> across the board (<a href="https://github.com/remix-run/react-router/pull/14047">#14047</a>)<ul>
<li>Updated types: <span class="tt">Route.MetaArgs</span>, <span class="tt">Route.MetaMatch</span>, <span class="tt">MetaArgs</span>, <span class="tt">MetaMatch</span>, <span class="tt">Route.ComponentProps.matches</span>, <span class="tt">UIMatch</span></li>
<li><span class="tt">@deprecated</span> warnings have been added to the existing <span class="tt">data</span> properties to point users to new <span class="tt">loaderData</span> properties, in preparation for removing the <span class="tt">data</span> properties in a future major release</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1803"></a>
Patch Changes</h2>
<ul>
<li>Prevent <em>"Did not find corresponding fetcher result"</em> console error when navigating during a <span class="tt">fetcher.submit</span> revalidation (<a href="https://github.com/remix-run/react-router/pull/14114">#14114</a>)</li>
<li>Bubble client-side middleware errors prior to <span class="tt">next</span> to the appropriate ancestor error boundary (<a href="https://github.com/remix-run/react-router/pull/14138">#14138</a>)</li>
<li>Switch Lazy Route Discovery manifest URL generation to usea standalone <span class="tt">URLSearchParams</span> instance instead of <span class="tt">URL.searchParams</span> to avoid a major performance bottleneck in Chrome (<a href="https://github.com/remix-run/react-router/pull/14084">#14084</a>)</li>
<li>Adjust internal RSC usage of <span class="tt">React.use</span> to avoid Webpack compilation errors when using React 18 (<a href="https://github.com/remix-run/react-router/pull/14113">#14113</a>)</li>
<li>Remove dependency on <span class="tt">@types/node</span> in TypeScript declaration files (<a href="https://github.com/remix-run/react-router/pull/14059">#14059</a>)</li>
<li><p class="startli">Fix types for <span class="tt">UIMatch</span> to reflect that the <span class="tt">loaderData</span>/<span class="tt">data</span> properties may be <span class="tt">undefined</span> (<a href="https://github.com/remix-run/react-router/pull/12206">#12206</a>)</p><ul>
<li>When an <span class="tt">ErrorBoundary</span> is being rendered, not all active matches will have loader data available, since it may have been their <span class="tt">loader</span> that threw to trigger the boundary</li>
<li>The <span class="tt">UIMatch.data</span> type was not correctly handing this and would always reflect the presence of data, leading to the unexpected runtime errors when an <span class="tt">ErrorBoundary</span> was rendered</li>
<li>‚ö†Ô∏è This may cause some type errors to show up in your code for unguarded <span class="tt">match.data</span> accesses - you should properly guard for <span class="tt">undefined</span> values in those scenarios.</li>
</ul>
<div class="fragment"><div class="line">// app/root.tsx</div>
<div class="line">export function loader() {</div>
<div class="line">  someFunctionThatThrows(); // ‚ùå Throws an Error</div>
<div class="line">  return { title: &quot;My Title&quot; };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export function Layout({ children }: { children: React.ReactNode }) {</div>
<div class="line">  let matches = useMatches();</div>
<div class="line">  let rootMatch = matches[0] as UIMatch&lt;Awaited&lt;ReturnType&lt;typeof loader&gt;&gt;&gt;;</div>
<div class="line">  //  ^ rootMatch.data is incorrectly typed here, so TypeScript does not</div>
<div class="line">  //    complain if you do the following which throws an error at runtime:</div>
<div class="line">  let { title } = rootMatch.data; // üí•</div>
<div class="line"> </div>
<div class="line">  return &lt;html&gt;...&lt;/html&gt;;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>[UNSTABLE] Ensure resource route errors go through <span class="tt">handleError</span> w/middleware enabled (<a href="https://github.com/remix-run/react-router/pull/14078">#14078</a>)</li>
<li>[UNSTABLE] Propagate returned Response from server middleware if next wasn't called (<a href="https://github.com/remix-run/react-router/pull/14093">#14093</a>)</li>
<li>[UNSTABLE] Allow server middlewares to return <span class="tt">data()</span> values which will be converted into a <span class="tt">Response</span> (<a href="https://github.com/remix-run/react-router/pull/14093">#14093</a>)</li>
<li>[UNSTABLE] Update middleware error handling so that the <span class="tt">next</span> function never throws and instead handles any middleware errors at the proper <span class="tt">ErrorBoundary</span> and returns the <span class="tt">Response</span> up through the ancestor <span class="tt">next</span> function (<a href="https://github.com/remix-run/react-router/pull/14118">#14118</a>)</li>
<li>[UNSTABLE] When middleware is enabled, make the <span class="tt">context</span> parameter read-only (via <span class="tt">Readonly&lt;unstable_RouterContextProvider&gt;</span>) so that TypeScript will not allow you to write arbitrary fields to it in loaders, actions, or middleware. (<a href="https://github.com/remix-run/react-router/pull/14097">#14097</a>)</li>
<li><p class="startli">[UNSTABLE] Rename and alter the signature/functionality of the <span class="tt">unstable_respond</span> API in <span class="tt">staticHandler.query</span>/<span class="tt">staticHandler.queryRoute</span> (<a href="https://github.com/remix-run/react-router/pull/14103">#14103</a>)</p><ul>
<li>The API has been renamed to <span class="tt">unstable_generateMiddlewareResponse</span> for clarity</li>
<li>The main functional change is that instead of running the loaders/actions before calling <span class="tt">unstable_respond</span> and handing you the result, we now pass a <span class="tt">query</span>/<span class="tt">queryRoute</span> function as a parameter and you execute the loaders/actions inside your callback, giving you full access to pre-processing and error handling</li>
<li>The <span class="tt">query</span> version of the API now has a signature of <span class="tt">(query: (r: Request) =&gt; Promise&lt;StaticHandlerContext | Response&gt;) =&gt; Promise&lt;Response&gt;</span></li>
<li>The <span class="tt">queryRoute</span> version of the API now has a signature of <span class="tt">(queryRoute: (r: Request) =&gt; Promise&lt;Response&gt;) =&gt; Promise&lt;Response&gt;</span></li>
<li>This allows for more advanced usages such as running logic before/after calling <span class="tt">query</span> and direct error handling of errors thrown from query</li>
<li>‚ö†Ô∏è This is a breaking change if you've adopted the <span class="tt">staticHandler</span> <span class="tt">unstable_respond</span> API</li>
</ul>
<div class="fragment"><div class="line">let response = await staticHandler.query(request, {</div>
<div class="line">  requestContext: new unstable_RouterContextProvider(),</div>
<div class="line">  async unstable_generateMiddlewareResponse(query) {</div>
<div class="line">    try {</div>
<div class="line">      // At this point we&#39;ve run middleware top-down so we need to call the</div>
<div class="line">      // handlers and generate the Response to bubble back up the middleware</div>
<div class="line">      let result = await query(request);</div>
<div class="line">      if (isResponse(result)) {</div>
<div class="line">        return result; // Redirects, etc.</div>
<div class="line">      }</div>
<div class="line">      return await generateHtmlResponse(result);</div>
<div class="line">    } catch (error: unknown) {</div>
<div class="line">      return generateErrorResponse(error);</div>
<div class="line">    }</div>
<div class="line">  },</div>
<div class="line">});</div>
</div><!-- fragment --></li>
<li>[UNSTABLE] Convert internal middleware implementations to use the new <span class="tt">unstable_generateMiddlewareResponse</span> API (<a href="https://github.com/remix-run/react-router/pull/14103">#14103</a>)</li>
<li>[UNSTABLE] Change <span class="tt">getLoadContext</span> signature (<span class="tt">type GetLoadContextFunction</span>) when <span class="tt">future.unstable_middleware</span> is enabled so that it returns an <span class="tt">unstable_RouterContextProvider</span> instance instead of a <span class="tt">Map</span> used to contruct the instance internally (<a href="https://github.com/remix-run/react-router/pull/14097">#14097</a>)<ul>
<li>This also removes the <span class="tt">type unstable_InitialContext</span> export</li>
<li>‚ö†Ô∏è This is a breaking change if you have adopted middleware and are using a custom server with a <span class="tt">getLoadContext</span> function</li>
</ul>
</li>
<li>[UNSTABLE] Run client middleware on client navigations even if no loaders exist (<a href="https://github.com/remix-run/react-router/pull/14106">#14106</a>)</li>
<li>[UNSTABLE] Change the <span class="tt">unstable_getContext</span> signature on <span class="tt">RouterProvider</span>/<span class="tt">HydratedRouter</span>/<span class="tt">unstable_RSCHydratedRouter</span> so that it returns an <span class="tt">unstable_RouterContextProvider</span> instance instead of a <span class="tt">Map</span> used to contruct the instance internally (<a href="https://github.com/remix-run/react-router/pull/14097">#14097</a>)<ul>
<li>‚ö†Ô∏è This is a breaking change if you have adopted the <span class="tt">unstable_getContext</span> prop</li>
</ul>
</li>
<li>[UNSTABLE] proxy server action side-effect redirects from actions for document and callServer requests (<a href="https://github.com/remix-run/react-router/pull/14131">#14131</a>)</li>
<li>[UNSTABLE] Fix RSC Data Mode issue where routes that return <span class="tt">false</span> from <span class="tt">shouldRevalidate</span> would be replaced by an <span class="tt">&lt;Outlet /&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/14071">#14071</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1804"></a>
7.7.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1805"></a>
Patch Changes</h2>
<ul>
<li>In RSC Data Mode, fix bug where routes with errors weren't forced to revalidate when <span class="tt">shouldRevalidate</span> returned false (<a href="https://github.com/remix-run/react-router/pull/14026">#14026</a>)</li>
<li>In RSC Data Mode, fix <span class="tt">Matched leaf route at location "/..." does not have an element or Component</span> warnings when error boundaries are rendered. (<a href="https://github.com/remix-run/react-router/pull/14021">#14021</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1806"></a>
7.7.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1807"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">Add unstable RSC support (<a href="https://github.com/remix-run/react-router/pull/13700">#13700</a>)</p>
<p class="startli">For more information, see the <a href="https://reactrouter.com/start/rsc/installation">RSC documentation</a>.</p>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1808"></a>
Patch Changes</h2>
<ul>
<li>Handle <span class="tt">InvalidCharacterError</span> when validating cookie signature (<a href="https://github.com/remix-run/react-router/pull/13847">#13847</a>)</li>
<li>Pass a copy of <span class="tt">searchParams</span> to the <span class="tt">setSearchParams</span> callback function to avoid muations of the internal <span class="tt">searchParams</span> instance. This was an issue when navigations were blocked because the internal instance be out of sync with <span class="tt">useLocation().search</span>. (<a href="https://github.com/remix-run/react-router/pull/12784">#12784</a>)</li>
<li>Support invalid <span class="tt">Date</span> in <span class="tt">turbo-stream</span> v2 fork (<a href="https://github.com/remix-run/react-router/pull/13684">#13684</a>)</li>
<li>In Framework Mode, clear critical CSS in development after initial render (<a href="https://github.com/remix-run/react-router/pull/13872">#13872</a>)</li>
<li>Strip search parameters from <span class="tt">patchRoutesOnNavigation</span> <span class="tt">path</span> param for fetcher calls (<a href="https://github.com/remix-run/react-router/pull/13911">#13911</a>)</li>
<li>Skip scroll restoration on useRevalidator() calls because they're not new locations (<a href="https://github.com/remix-run/react-router/pull/13671">#13671</a>)</li>
<li>Support unencoded UTF-8 routes in prerender config with <span class="tt">ssr</span> set to <span class="tt">false</span> (<a href="https://github.com/remix-run/react-router/pull/13699">#13699</a>)</li>
<li>Do not throw if the url hash is not a valid URI component (<a href="https://github.com/remix-run/react-router/pull/13247">#13247</a>)</li>
<li><p class="startli">Fix a regression in <span class="tt">createRoutesStub</span> introduced with the middleware feature. (<a href="https://github.com/remix-run/react-router/pull/13946">#13946</a>)</p>
<p class="startli">As part of that work we altered the signature to align with the new middleware APIs without making it backwards compatible with the prior <span class="tt">AppLoadContext</span> API. This permitted <span class="tt">createRoutesStub</span> to work if you were opting into middleware and the updated <span class="tt">context</span> typings, but broke <span class="tt">createRoutesStub</span> for users not yet opting into middleware.</p>
<p class="startli">We've reverted this change and re-implemented it in such a way that both sets of users can leverage it.</p>
<div class="fragment"><div class="line">// If you have not opted into middleware, the old API should work again</div>
<div class="line">let context: AppLoadContext = {</div>
<div class="line">  /*...*/</div>
<div class="line">};</div>
<div class="line">let Stub = createRoutesStub(routes, context);</div>
<div class="line"> </div>
<div class="line">// If you have opted into middleware, you should now pass an instantiated `unstable_routerContextProvider` instead of a `getContext` factory function.</div>
<div class="line">let context = new unstable_RouterContextProvider();</div>
<div class="line">context.set(SomeContext, someValue);</div>
<div class="line">let Stub = createRoutesStub(routes, context);</div>
</div><!-- fragment --><p class="startli">‚ö†Ô∏è This may be a breaking bug for if you have adopted the unstable Middleware feature and are using <span class="tt">createRoutesStub</span> with the updated API.</p>
</li>
<li>Remove <span class="tt">Content-Length</span> header from Single Fetch responses (<a href="https://github.com/remix-run/react-router/pull/13902">#13902</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1809"></a>
7.6.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1810"></a>
Patch Changes</h2>
<ul>
<li><p class="startli">Do not serialize types for <span class="tt">useRouteLoaderData&lt;typeof clientLoader&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/13752">#13752</a>)</p>
<p class="startli">For types to distinguish a <span class="tt">clientLoader</span> from a <span class="tt">serverLoader</span>, you MUST annotate <span class="tt">clientLoader</span> args:</p>
<div class="fragment"><div class="line">//                                   üëá annotation required to skip serializing types</div>
<div class="line">export function clientLoader({}: Route.ClientLoaderArgs) {</div>
<div class="line">  return { fn: () =&gt; &quot;earth&quot; };</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">function SomeComponent() {</div>
<div class="line">  const data = useRouteLoaderData&lt;typeof clientLoader&gt;(&quot;routes/this-route&quot;);</div>
<div class="line">  const planet = data?.fn() ?? &quot;world&quot;;</div>
<div class="line">  return &lt;h1&gt;Hello, {planet}!&lt;/h1&gt;;</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1811"></a>
7.6.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1812"></a>
Patch Changes</h2>
<ul>
<li>Avoid additional <span class="tt">with-props</span> chunk in Framework Mode by moving route module component prop logic from the Vite plugin to <span class="tt">react-router</span> (<a href="https://github.com/remix-run/react-router/pull/13650">#13650</a>)</li>
<li>Slight refactor of internal <span class="tt">headers()</span> function processing for use with RSC (<a href="https://github.com/remix-run/react-router/pull/13639">#13639</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1813"></a>
7.6.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1814"></a>
Patch Changes</h2>
<ul>
<li><p class="startli">Update <span class="tt">Route.MetaArgs</span> to reflect that <span class="tt">data</span> can be potentially <span class="tt">undefined</span> (<a href="https://github.com/remix-run/react-router/pull/13563">#13563</a>)</p>
<p class="startli">This is primarily for cases where a route <span class="tt">loader</span> threw an error to it's own <span class="tt">ErrorBoundary</span>. but it also arises in the case of a 404 which renders the root <span class="tt">ErrorBoundary</span>/<span class="tt">meta</span> but the root loader did not run because not routes matched.</p>
</li>
<li>Partially revert optimization added in <span class="tt">7.1.4</span> to reduce calls to <span class="tt">matchRoutes</span> because it surfaced other issues (<a href="https://github.com/remix-run/react-router/pull/13562">#13562</a>)</li>
<li><p class="startli">Fix typegen when same route is used at multiple paths (<a href="https://github.com/remix-run/react-router/pull/13574">#13574</a>)</p>
<p class="startli">For example, <span class="tt">routes/route.tsx</span> is used at 4 different paths here:</p>
<div class="fragment"><div class="line">import { type RouteConfig, route } from &quot;@react-router/dev/routes&quot;;</div>
<div class="line">export default [</div>
<div class="line">  route(&quot;base/:base&quot;, &quot;routes/base.tsx&quot;, [</div>
<div class="line">    route(&quot;home/:home&quot;, &quot;routes/route.tsx&quot;, { id: &quot;home&quot; }),</div>
<div class="line">    route(&quot;changelog/:changelog&quot;, &quot;routes/route.tsx&quot;, { id: &quot;changelog&quot; }),</div>
<div class="line">    route(&quot;splat/*&quot;, &quot;routes/route.tsx&quot;, { id: &quot;splat&quot; }),</div>
<div class="line">  ]),</div>
<div class="line">  route(&quot;other/:other&quot;, &quot;routes/route.tsx&quot;, { id: &quot;other&quot; }),</div>
<div class="line">] satisfies RouteConfig;</div>
</div><!-- fragment --><p class="startli">Previously, typegen would arbitrarily pick one of these paths to be the "winner" and generate types for the route module based on that path. Now, typegen creates unions as necessary for alternate paths for the same route file.</p>
</li>
<li><p class="startli">Better types for <span class="tt">params</span> (<a href="https://github.com/remix-run/react-router/pull/13543">#13543</a>)</p>
<p class="startli">For example:</p>
<div class="fragment"><div class="line">// routes.ts</div>
<div class="line">import { type RouteConfig, route } from &quot;@react-router/dev/routes&quot;;</div>
<div class="line"> </div>
<div class="line">export default [</div>
<div class="line">  route(&quot;parent/:p&quot;, &quot;routes/parent.tsx&quot;, [</div>
<div class="line">    route(&quot;layout/:l&quot;, &quot;routes/layout.tsx&quot;, [</div>
<div class="line">      route(&quot;child1/:c1a/:c1b&quot;, &quot;routes/child1.tsx&quot;),</div>
<div class="line">      route(&quot;child2/:c2a/:c2b&quot;, &quot;routes/child2.tsx&quot;),</div>
<div class="line">    ]),</div>
<div class="line">  ]),</div>
<div class="line">] satisfies RouteConfig;</div>
</div><!-- fragment --><p class="startli">Previously, <span class="tt">params</span> for the <span class="tt">routes/layout.tsx</span> route were calculated as <span class="tt">{ p: string, l: string }</span>. This incorrectly ignores params that could come from child routes. If visiting <span class="tt">/parent/1/layout/2/child1/3/4</span>, the actual params passed to <span class="tt">routes/layout.tsx</span> will have a type of <span class="tt">{ p: string, l: string, c1a: string, c1b: string }</span>.</p>
<p class="startli">Now, <span class="tt">params</span> are aware of child routes and autocompletion will include child params as optionals:</p>
<div class="fragment"><div class="line">params.|</div>
<div class="line">//     ^ cursor is here and you ask for autocompletion</div>
<div class="line">// p: string</div>
<div class="line">// l: string</div>
<div class="line">// c1a?: string</div>
<div class="line">// c1b?: string</div>
<div class="line">// c2a?: string</div>
<div class="line">// c2b?: string</div>
</div><!-- fragment --><p class="startli">You can also narrow the types for <span class="tt">params</span> as it is implemented as a normalized union of params for each page that includes <span class="tt">routes/layout.tsx</span>:</p>
<div class="fragment"><div class="line">if (typeof params.c1a === &#39;string&#39;) {</div>
<div class="line">  params.|</div>
<div class="line">  //     ^ cursor is here and you ask for autocompletion</div>
<div class="line">  // p: string</div>
<div class="line">  // l: string</div>
<div class="line">  // c1a: string</div>
<div class="line">  // c1b: string</div>
<div class="line">}</div>
</div><!-- fragment --></li>
</ul>
<hr  />
<p>UNSTABLE: renamed internal <span class="tt">react-router/route-module</span> export to <span class="tt">react-router/internal</span> UNSTABLE: removed <span class="tt">Info</span> export from generated <span class="tt">+types/*</span> files</p>
<ul>
<li>Avoid initial fetcher execution 404 error when Lazy Route Discovery is interrupted by a navigation (<a href="https://github.com/remix-run/react-router/pull/13564">#13564</a>)</li>
<li><p class="startli">href replaces splats <span class="tt">*</span> (<a href="https://github.com/remix-run/react-router/pull/13593">#13593</a>)</p>
<div class="fragment"><div class="line">const a = href(&quot;/products/*&quot;, { &quot;*&quot;: &quot;/1/edit&quot; });</div>
<div class="line">// -&gt; /products/1/edit</div>
</div><!-- fragment --></li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1815"></a>
7.6.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1816"></a>
Minor Changes</h2>
<ul>
<li>Added a new <span class="tt">react-router.config.ts</span> <span class="tt">routeDiscovery</span> option to configure Lazy Route Discovery behavior. (<a href="https://github.com/remix-run/react-router/pull/13451">#13451</a>)<ul>
<li>By default, Lazy Route Discovery is enabled and makes manifest requests to the <span class="tt">/__manifest</span> path:<ul>
<li><span class="tt">routeDiscovery: { mode: "lazy", manifestPath: "/__manifest" }</span></li>
</ul>
</li>
<li>You can modify the manifest path used:<ul>
<li><span class="tt">routeDiscovery: { mode: "lazy", manifestPath: "/custom-manifest" }</span></li>
</ul>
</li>
<li>Or you can disable this feature entirely and include all routes in the manifest on initial document load:<ul>
<li><span class="tt">routeDiscovery: { mode: "initial" }</span></li>
</ul>
</li>
</ul>
</li>
<li><p class="startli">Add support for route component props in <span class="tt">createRoutesStub</span>. This allows you to unit test your route components using the props instead of the hooks: (<a href="https://github.com/remix-run/react-router/pull/13528">#13528</a>)</p>
<div class="fragment"><div class="line">let RoutesStub = createRoutesStub([</div>
<div class="line">  {</div>
<div class="line">    path: &quot;/&quot;,</div>
<div class="line">    Component({ loaderData }) {</div>
<div class="line">      let data = loaderData as { message: string };</div>
<div class="line">      return &lt;pre data-testid=&quot;data&quot;&gt;Message: {data.message}&lt;/pre&gt;;</div>
<div class="line">    },</div>
<div class="line">    loader() {</div>
<div class="line">      return { message: &quot;hello&quot; };</div>
<div class="line">    },</div>
<div class="line">  },</div>
<div class="line">]);</div>
<div class="line"> </div>
<div class="line">render(&lt;RoutesStub /&gt;);</div>
<div class="line"> </div>
<div class="line">await waitFor(() =&gt; screen.findByText(&quot;Message: hello&quot;));</div>
</div><!-- fragment --></li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1817"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">react-router</span> module augmentation for <span class="tt">NodeNext</span> (<a href="https://github.com/remix-run/react-router/pull/13498">#13498</a>)</li>
<li>Don't bundle <span class="tt">react-router</span> in <span class="tt">react-router/dom</span> CJS export (<a href="https://github.com/remix-run/react-router/pull/13497">#13497</a>)</li>
<li>Fix bug where a submitting <span class="tt">fetcher</span> would get stuck in a <span class="tt">loading</span> state if a revalidating <span class="tt">loader</span> redirected (<a href="https://github.com/remix-run/react-router/pull/12873">#12873</a>)</li>
<li>Fix hydration error if a server <span class="tt">loader</span> returned <span class="tt">undefined</span> (<a href="https://github.com/remix-run/react-router/pull/13496">#13496</a>)</li>
<li>Fix initial load 404 scenarios in data mode (<a href="https://github.com/remix-run/react-router/pull/13500">#13500</a>)</li>
<li>Stabilize <span class="tt">useRevalidator</span>'s <span class="tt">revalidate</span> function (<a href="https://github.com/remix-run/react-router/pull/13542">#13542</a>)</li>
<li>Preserve status code if a <span class="tt">clientAction</span> throws a <span class="tt">data()</span> result in framework mode (<a href="https://github.com/remix-run/react-router/pull/13522">#13522</a>)</li>
<li>Be defensive against leading double slashes in paths to avoid <span class="tt">Invalid URL</span> errors from the URL constructor (<a href="https://github.com/remix-run/react-router/pull/13510">#13510</a>)<ul>
<li>Note we do not sanitize/normalize these paths - we only detect them so we can avoid the error that would be thrown by <span class="tt">new URL("//", window.location.origin)</span></li>
</ul>
</li>
<li>Remove <span class="tt">Navigator</span> declaration for <span class="tt">navigator.connection.saveData</span> to avoid messing with any other types beyond <span class="tt">saveData</span> in userland (<a href="https://github.com/remix-run/react-router/pull/13512">#13512</a>)</li>
<li>Fix <span class="tt">handleError</span> <span class="tt">params</span> values on <span class="tt">.data</span> requests for routes with a dynamic param as the last URL segment (<a href="https://github.com/remix-run/react-router/pull/13481">#13481</a>)</li>
<li>Don't trigger an <span class="tt">ErrorBoundary</span> UI before the reload when we detect a manifest verison mismatch in Lazy Route Discovery (<a href="https://github.com/remix-run/react-router/pull/13480">#13480</a>)</li>
<li>Inline <span class="tt">turbo-stream@2.4.1</span> dependency and fix decoding ordering of Map/Set instances (<a href="https://github.com/remix-run/react-router/pull/13518">#13518</a>)</li>
<li>Only render dev warnings in DEV mode (<a href="https://github.com/remix-run/react-router/pull/13461">#13461</a>)</li>
<li>UNSTABLE: Fix a few bugs with error bubbling in middleware use-cases (<a href="https://github.com/remix-run/react-router/pull/13538">#13538</a>)</li>
<li>Short circuit post-processing on aborted <span class="tt">dataStrategy</span> requests (<a href="https://github.com/remix-run/react-router/pull/13521">#13521</a>)<ul>
<li>This resolves non-user-facing console errors of the form <span class="tt">Cannot read properties of undefined (reading 'result')</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1818"></a>
7.5.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1819"></a>
Patch Changes</h2>
<ul>
<li>Fix bug where bubbled action errors would result in <span class="tt">loaderData</span> being cleared at the handling <span class="tt">ErrorBoundary</span> route (<a href="https://github.com/remix-run/react-router/pull/13476">#13476</a>)</li>
<li>Handle redirects from <span class="tt">clientLoader.hydrate</span> initial load executions (<a href="https://github.com/remix-run/react-router/pull/13477">#13477</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1820"></a>
7.5.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1821"></a>
Patch Changes</h2>
<ul>
<li>Update Single Fetch to also handle the 204 redirects used in <span class="tt">?_data</span> requests in Remix v2 (<a href="https://github.com/remix-run/react-router/pull/13364">#13364</a>)<ul>
<li>This allows applications to return a redirect on <span class="tt">.data</span> requests from outside the scope of React Router (i.e., an <span class="tt">express</span>/<span class="tt">hono</span> middleware)</li>
<li>‚ö†Ô∏è Please note that doing so relies on implementation details that are subject to change without a SemVer major release</li>
<li>This is primarily done to ease upgrading to Single Fetch for existing Remix v2 applications, but the recommended way to handle this is redirecting from a route middleware</li>
</ul>
</li>
<li>Adjust approach for Prerendering/SPA Mode via headers (<a href="https://github.com/remix-run/react-router/pull/13453">#13453</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1822"></a>
7.5.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1823"></a>
Patch Changes</h2>
<ul>
<li>Fix single fetch bug where no revalidation request would be made when navigating upwards to a reused parent route (<a href="https://github.com/remix-run/react-router/pull/13253">#13253</a>)</li>
<li><p class="startli">When using the object-based <span class="tt">route.lazy</span> API, the <span class="tt">HydrateFallback</span> and <span class="tt">hydrateFallbackElement</span> properties are now skipped when lazy loading routes after hydration. (<a href="https://github.com/remix-run/react-router/pull/13376">#13376</a>)</p>
<p class="startli">If you move the code for these properties into a separate file, you can use this optimization to avoid downloading unused hydration code. For example:</p>
<div class="fragment"><div class="line">createBrowserRouter([</div>
<div class="line">  {</div>
<div class="line">    path: &quot;/show/:showId&quot;,</div>
<div class="line">    lazy: {</div>
<div class="line">      loader: async () =&gt; (await import(&quot;./show.loader.js&quot;)).loader,</div>
<div class="line">      Component: async () =&gt; (await import(&quot;./show.component.js&quot;)).Component,</div>
<div class="line">      HydrateFallback: async () =&gt;</div>
<div class="line">        (await import(&quot;./show.hydrate-fallback.js&quot;)).HydrateFallback,</div>
<div class="line">    },</div>
<div class="line">  },</div>
<div class="line">]);</div>
</div><!-- fragment --></li>
<li>Properly revalidate prerendered paths when param values change (<a href="https://github.com/remix-run/react-router/pull/13380">#13380</a>)</li>
<li>UNSTABLE: Add a new <span class="tt">unstable_runClientMiddleware</span> argument to <span class="tt">dataStrategy</span> to enable middleware execution in custom <span class="tt">dataStrategy</span> implementations (<a href="https://github.com/remix-run/react-router/pull/13395">#13395</a>)</li>
<li>UNSTABLE: Add better error messaging when <span class="tt">getLoadContext</span> is not updated to return a <span class="tt">Map</span>" (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13242">https://github.com/remix-run/react-router/pull/13242</a>" &gt;#13242&lt;/a&gt;)

- Do not automatically add &lt;tt&gt;null&lt;/tt&gt; to &lt;tt&gt;staticHandler.query()&lt;/tt&gt; &lt;tt&gt;context.loaderData&lt;/tt&gt; if routes do not have loaders (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13223">https://github.com/remix-run/react-router/pull/13223</a>" &gt;#13223&lt;/a&gt;)
  - This was a Remix v2 implementation detail inadvertently left in for React Router v7
  - Now that we allow returning &lt;tt&gt;undefined&lt;/tt&gt; from loaders, our prior check of &lt;tt&gt;loaderData[routeId] !== undefined&lt;/tt&gt; was no longer sufficient and was changed to a &lt;tt&gt;routeId in loaderData&lt;/tt&gt; check - these &lt;tt&gt;null&lt;/tt&gt; values can cause issues for this new check
  - ‚ö†Ô∏è This could be a "breaking bug fix" for you if you are doing manual SSR with &lt;tt&gt;createStaticHandler()&lt;/tt&gt;/&lt;tt&gt;\&lt;StaticRouterProvider\&gt;&lt;/tt&gt;, and using &lt;tt&gt;context.loaderData&lt;/tt&gt; to control &lt;tt&gt;\&lt;RouterProvider\&gt;&lt;/tt&gt; hydration behavior on the client

- Fix prerendering when a loader returns a redirect (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13365">https://github.com/remix-run/react-router/pull/13365</a>" &gt;#13365&lt;/a&gt;)

- UNSTABLE: Update context type for &lt;tt&gt;LoaderFunctionArgs&lt;/tt&gt;/&lt;tt&gt;ActionFunctionArgs&lt;/tt&gt; when middleware is enabled (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13381">https://github.com/remix-run/react-router/pull/13381</a>" &gt;#13381&lt;/a&gt;)

- Add support for the new &lt;tt&gt;unstable_shouldCallHandler&lt;/tt&gt;/&lt;tt&gt;unstable_shouldRevalidateArgs&lt;/tt&gt; APIs in &lt;tt&gt;dataStrategy&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13253">https://github.com/remix-run/react-router/pull/13253</a>" &gt;#13253&lt;/a&gt;)

@section autotoc_md1824 7.5.0

@subsection autotoc_md1825 Minor Changes

- Add granular object-based API for &lt;tt&gt;route.lazy&lt;/tt&gt; to support lazy loading of individual route properties, for example: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13294">https://github.com/remix-run/react-router/pull/13294</a>" &gt;#13294&lt;/a&gt;)

  @icode{ts} 
  createBrowserRouter([
    {
      path: "/show/:showId",
      lazy: {
        loader: async () =&gt; (await import("./show.<a class="el" href="loader_8js.html">loader.js</a>")).loader,
        action: async () =&gt; (await import("./show.action.js")).action,
        Component: async () =&gt; (await import("./show.component.js")).Component,
      },
    },
  ]);
  @endicode 

  &lt;strong&gt;Breaking change for &lt;tt&gt;route.unstable_lazyMiddleware&lt;/tt&gt; consumers&lt;/strong&gt;

  The &lt;tt&gt;route.unstable_lazyMiddleware&lt;/tt&gt; property is no longer supported. If you want to lazily load middleware, you must use the new object-based &lt;tt&gt;route.lazy&lt;/tt&gt; API with &lt;tt&gt;route.lazy.unstable_middleware&lt;/tt&gt;, for example:

  @icode{ts} 
  createBrowserRouter([
    {
      path: "/show/:showId",
      lazy: {
        unstable_middleware: async () =&gt;
          (await import("./show.middleware.js")).middleware,
        // etc.
      },
    },
  ]);
  @endicode 

@subsection autotoc_md1826 Patch Changes

- Introduce &lt;tt&gt;unstable_subResourceIntegrity&lt;/tt&gt; future flag that enables generation of an importmap with integrity for the scripts that will be loaded by the browser. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13163">https://github.com/remix-run/react-router/pull/13163</a>" &gt;#13163&lt;/a&gt;)

@section autotoc_md1827 7.4.1

@subsection autotoc_md1828 Patch Changes

- Fix types on &lt;tt&gt;unstable_MiddlewareFunction&lt;/tt&gt; to avoid type errors when a middleware doesn't return a value (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13311">https://github.com/remix-run/react-router/pull/13311</a>" &gt;#13311&lt;/a&gt;)
- Dedupe calls to &lt;tt&gt;route.lazy&lt;/tt&gt; functions (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13260">https://github.com/remix-run/react-router/pull/13260</a>" &gt;#13260&lt;/a&gt;)
- Add support for &lt;tt&gt;route.unstable_lazyMiddleware&lt;/tt&gt; function to allow lazy loading of middleware logic. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13210">https://github.com/remix-run/react-router/pull/13210</a>" &gt;#13210&lt;/a&gt;)

  &lt;strong&gt;Breaking change for &lt;tt&gt;unstable_middleware&lt;/tt&gt; consumers&lt;/strong&gt;

  The &lt;tt&gt;route.unstable_middleware&lt;/tt&gt; property is no longer supported in the return value from &lt;tt&gt;route.lazy&lt;/tt&gt;. If you want to lazily load middleware, you must use &lt;tt&gt;route.unstable_lazyMiddleware&lt;/tt&gt;.

@section autotoc_md1829 7.4.0

@subsection autotoc_md1830 Patch Changes

- Fix root loader data on initial load redirects in SPA mode (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13222">https://github.com/remix-run/react-router/pull/13222</a>" &gt;#13222&lt;/a&gt;)
- Load ancestor pathless/index routes in lazy route discovery for upwards non-eager-discoery routing (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13203">https://github.com/remix-run/react-router/pull/13203</a>" &gt;#13203&lt;/a&gt;)
- Fix &lt;tt&gt;shouldRevalidate&lt;/tt&gt; behavior for &lt;tt&gt;clientLoader&lt;/tt&gt;-only routes in &lt;tt&gt;ssr:true&lt;/tt&gt; apps (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13221">https://github.com/remix-run/react-router/pull/13221</a>" &gt;#13221&lt;/a&gt;)
- UNSTABLE: Fix &lt;tt&gt;RequestHandler&lt;/tt&gt; &lt;tt&gt;loadContext&lt;/tt&gt; parameter type when middleware is enabled (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13204">https://github.com/remix-run/react-router/pull/13204</a>" &gt;#13204&lt;/a&gt;)
- UNSTABLE: Update &lt;tt&gt;Route.unstable_MiddlewareFunction&lt;/tt&gt; to have a return value of &lt;tt&gt;Response | undefined&lt;/tt&gt; instead of &lt;tt&gt;Response | void&lt;/tt&gt; becaue you should not return anything if you aren't returning the &lt;tt&gt;Response&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13199">https://github.com/remix-run/react-router/pull/13199</a>" &gt;#13199&lt;/a&gt;)
- UNSTABLE(BREAKING): If a middleware throws an error, ensure we only bubble the error itself via &lt;tt&gt;next()&lt;/tt&gt; and are no longer leaking the &lt;tt&gt;MiddlewareError&lt;/tt&gt; implementation detail (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13180">https://github.com/remix-run/react-router/pull/13180</a>" &gt;#13180&lt;/a&gt;)

@section autotoc_md1831 7.3.0

@subsection autotoc_md1832 Minor Changes

- Add &lt;tt&gt;fetcherKey&lt;/tt&gt; as a parameter to &lt;tt&gt;patchRoutesOnNavigation&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13061">https://github.com/remix-run/react-router/pull/13061</a>" &gt;#13061&lt;/a&gt;)
  - In framework mode, Lazy Route Discovery will now detect manifest version mismatches after a new deploy
  - On navigations to undiscovered routes, this mismatch will trigger a document reload of the destination path
  - On &lt;tt&gt;fetcher&lt;/tt&gt; calls to undiscovered routes, this mismatch will trigger a document reload of the current path

@subsection autotoc_md1833 Patch Changes

- Skip resource route flow in dev server in SPA mode (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13113">https://github.com/remix-run/react-router/pull/13113</a>" &gt;#13113&lt;/a&gt;)

- Support middleware on routes (unstable) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12941">https://github.com/remix-run/react-router/pull/12941</a>" &gt;#12941&lt;/a&gt;)

  Middleware is implemented behind a &lt;tt&gt;future.unstable_middleware&lt;/tt&gt; flag. To enable, you must enable the flag and the types in your &lt;tt&gt;react-router-config.ts&lt;/tt&gt; file:

  @icode{ts} 
  import type { Config } from "@react-router/dev/config";
  import type { Future } from "react-router";

  declare module "react-router" {
    interface Future {
      unstable_middleware: true; // üëà Enable middleware types
    }
  }

  export default {
    future: {
      unstable_middleware: true, // üëà Enable middleware
    },
  } satisfies Config;
  @endicode 

  ‚ö†Ô∏è Middleware is unstable and should not be adopted in production. There is at least one known de-optimization in route module loading for &lt;tt&gt;clientMiddleware&lt;/tt&gt; that we will be addressing this before a stable release.

  ‚ö†Ô∏è Enabling middleware contains a breaking change to the &lt;tt&gt;context&lt;/tt&gt; parameter passed to your &lt;tt&gt;loader&lt;/tt&gt;/&lt;tt&gt;action&lt;/tt&gt; functions - see below for more information.

  Once enabled, routes can define an array of middleware functions that will run sequentially before route handlers run. These functions accept the same parameters as &lt;tt&gt;loader&lt;/tt&gt;/&lt;tt&gt;action&lt;/tt&gt; plus an additional &lt;tt&gt;next&lt;/tt&gt; parameter to run the remaining data pipeline. This allows middlewares to perform logic before and after handlers execute.

  @icode{tsx} 
  // Framework mode
  export const unstable_middleware = [serverLogger, serverAuth]; // server
  export const unstable_clientMiddleware = [clientLogger]; // client

  // Library mode
  const routes = [
    {
      path: "/",
      // Middlewares are client-side for library mode SPA's
      unstable_middleware: [clientLogger, clientAuth],
      loader: rootLoader,
      Component: Root,
    },
  ];
  @endicode 

  Here's a simple example of a client-side logging middleware that can be placed on the root route:

  @icode{tsx} 
  const clientLogger: Route.unstable_ClientMiddlewareFunction = async (
    { request },
    next,
  ) =&gt; {
    let start = performance.now();

    // Run the remaining middlewares and all route loaders
    await next();

    let duration = performance.now() - start;
    console.log(`Navigated to ${request.url} (${duration}ms)`);
  };
  @endicode 

  Note that in the above example, the &lt;tt&gt;next&lt;/tt&gt;/&lt;tt&gt;middleware&lt;/tt&gt; functions don't return anything. This is by design as on the client there is no "response" to send over the network like there would be for middlewares running on the server. The data is all handled behind the scenes by the stateful &lt;tt&gt;router&lt;/tt&gt;.

  For a server-side middleware, the &lt;tt&gt;next&lt;/tt&gt; function will return the HTTP &lt;tt&gt;Response&lt;/tt&gt; that React Router will be sending across the wire, thus giving you a chance to make changes as needed. You may throw a new response to short circuit and respond immediately, or you may return a new or altered response to override the default returned by &lt;tt&gt;next()&lt;/tt&gt;.

  @icode{tsx} 
  const serverLogger: Route.unstable_MiddlewareFunction = async (
    { request, params, context },
    next,
  ) =&gt; {
    let start = performance.now();

    // üëá Grab the response here
    let res = await next();

    let duration = performance.now() - start;
    console.log(`Navigated to ${request.url} (${duration}ms)`);

    // üëá And return it here (optional if you don't modify the response)
    return res;
  };
  @endicode 

  You can throw a &lt;tt&gt;redirect&lt;/tt&gt; from a middleware to short circuit any remaining processing:

  @icode{tsx} 
  import { sessionContext } from "../context";
  const serverAuth: Route.unstable_MiddlewareFunction = (
    { request, params, context },
    next,
  ) =&gt; {
    let session = context.get(sessionContext);
    let user = session.get("user");
    if (!user) {
      session.set("returnTo", request.url);
      throw redirect("/login", 302);
    }
  };
  @endicode 

  &lt;em&gt;Note that in cases like this where you don't need to do any post-processing you don't need to call the &lt;tt&gt;next&lt;/tt&gt; function or return a &lt;tt&gt;Response&lt;/tt&gt;.&lt;/em&gt;

  Here's another example of using a server middleware to detect 404s and check the CMS for a redirect:

  @icode{tsx} 
  const redirects: Route.unstable_MiddlewareFunction = async ({
    request,
    next,
  }) =&gt; {
    // attempt to handle the request
    let res = await next();

    // if it's a 404, check the CMS for a redirect, do it last
    // because it's expensive
    if (res.status === 404) {
      let cmsRedirect = await checkCMSRedirects(request.url);
      if (cmsRedirect) {
        throw redirect(cmsRedirect, 302);
      }
    }

    return res;
  };
  @endicode 

  &lt;strong&gt;&lt;tt&gt;context&lt;/tt&gt; parameter&lt;/strong&gt;

  When middleware is enabled, your application will use a different type of &lt;tt&gt;context&lt;/tt&gt; parameter in your loaders and actions to provide better type safety. Instead of &lt;tt&gt;AppLoadContext&lt;/tt&gt;, &lt;tt&gt;context&lt;/tt&gt; will now be an instance of &lt;tt&gt;ContextProvider&lt;/tt&gt; that you can use with type-safe contexts (similar to &lt;tt&gt;React.createContext&lt;/tt&gt;):

  @icode{ts} 
  import { unstable_createContext } from "react-router";
  import { Route } from "./+types/root";
  import type { Session } from "./sessions.server";
  import { getSession } from "./sessions.server";

  let sessionContext = unstable_createContext&lt;Session&gt;();

  const sessionMiddleware: Route.unstable_MiddlewareFunction = ({
    context,
    request,
  }) =&gt; {
    let session = await getSession(request);
    context.set(sessionContext, session);
    //                          ^ must be of type Session
  };

  // ... then in some downstream middleware
  const loggerMiddleware: Route.unstable_MiddlewareFunction = ({
    context,
    request,
  }) =&gt; {
    let session = context.get(sessionContext);
    //  ^ typeof Session
    console.log(session.get("userId"), request.method, request.url);
  };

  // ... or some downstream loader
  export function loader({ context }: Route.LoaderArgs) {
    let session = context.get(sessionContext);
    let profile = await getProfile(session.get("userId"));
    return { profile };
  }
  @endicode 

  If you are using a custom server with a &lt;tt&gt;getLoadContext&lt;/tt&gt; function, the return value for initial context values passed from the server adapter layer is no longer an object and should now return an &lt;tt&gt;unstable_InitialContext&lt;/tt&gt; (&lt;tt&gt;Map\&lt;RouterContext, unknown\&gt;&lt;/tt&gt;):

  @icode{ts} 
  let adapterContext = unstable_createContext&lt;MyAdapterContext&gt;();

  function getLoadContext(req, res): unstable_InitialContext {
    let map = new Map();
    map.set(adapterContext, getAdapterContext(req));
    return map;
  }
  @endicode 

- Fix types for loaderData and actionData that contained &lt;tt&gt;Record&lt;/tt&gt;s (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13139">https://github.com/remix-run/react-router/pull/13139</a>" &gt;#13139&lt;/a&gt;)

  UNSTABLE(BREAKING):

  &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt; added a way to register custom serialization types in Single Fetch for other library and framework authors like Apollo.
  It was implemented with branded type whose branded property that was made optional so that casting arbitrary values was easy:

  @icode{ts} 
  // without the brand being marked as optional
  let x1 = 42 as unknown as unstable_SerializesTo&lt;number&gt;;
  //          ^^^^^^^^^^

  // with the brand being marked as optional
  let x2 = 42 as unstable_SerializesTo&lt;number&gt;;
  @endicode 

  However, this broke type inference in &lt;tt&gt;loaderData&lt;/tt&gt; and &lt;tt&gt;actionData&lt;/tt&gt; for any &lt;tt&gt;Record&lt;/tt&gt; types as those would now (incorrectly) match &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt;.
  This affected all users, not just those that depended on &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt;.
  To fix this, the branded property of &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt; is marked as required instead of optional.

  For library and framework authors using &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt;, you may need to add &lt;tt&gt;as unknown&lt;/tt&gt; casts before casting to &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt;.

- Fix single fetch &lt;tt&gt;_root.data&lt;/tt&gt; requests when a &lt;tt&gt;basename&lt;/tt&gt; is used (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12898">https://github.com/remix-run/react-router/pull/12898</a>" &gt;#12898&lt;/a&gt;)

- Add &lt;tt&gt;context&lt;/tt&gt; support to client side data routers (unstable) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12941">https://github.com/remix-run/react-router/pull/12941</a>" &gt;#12941&lt;/a&gt;)

  Your application &lt;tt&gt;loader&lt;/tt&gt; and &lt;tt&gt;action&lt;/tt&gt; functions on the client will now receive a &lt;tt&gt;context&lt;/tt&gt; parameter. This is an instance of &lt;tt&gt;unstable_RouterContextProvider&lt;/tt&gt; that you use with type-safe contexts (similar to &lt;tt&gt;React.createContext&lt;/tt&gt;) and is most useful with the corresponding &lt;tt&gt;middleware&lt;/tt&gt;/&lt;tt&gt;clientMiddleware&lt;/tt&gt; API's:

  @icode{ts} 
  import { unstable_createContext } from "react-router";

  type User = {
    /*...*/
  };

  let userContext = unstable_createContext&lt;User&gt;();

  function sessionMiddleware({ context }) {
    let user = await getUser();
    context.set(userContext, user);
  }

  // ... then in some downstream loader
  function loader({ context }) {
    let user = context.get(userContext);
    let profile = await getProfile(user.id);
    return { profile };
  }
  @endicode 

  Similar to server-side requests, a fresh &lt;tt&gt;context&lt;/tt&gt; will be created per navigation (or &lt;tt&gt;fetcher&lt;/tt&gt; call). If you have initial data you'd like to populate in the context for every request, you can provide an &lt;tt&gt;unstable_getContext&lt;/tt&gt; function at the root of your app:

  - Library mode - &lt;tt&gt;createBrowserRouter(routes, { unstable_getContext })&lt;/tt&gt;
  - Framework mode - &lt;tt&gt;\&lt;HydratedRouter unstable_getContext\&gt;&lt;/tt&gt;

  This function should return an value of type &lt;tt&gt;unstable_InitialContext&lt;/tt&gt; which is a &lt;tt&gt;Map\&lt;unstable_RouterContext, unknown\&gt;&lt;/tt&gt; of context's and initial values:

  @icode{ts} 
  const loggerContext = unstable_createContext&lt;(...args: unknown[]) =&gt; void&gt;();

  function logger(...args: unknown[]) {
    console.log(new Date.toISOString(), ...args);
  }

  function unstable_getContext() {
    let map = new Map();
    map.set(loggerContext, logger);
    return map;
  }
  @endicode 

@section autotoc_md1834 7.2.0

@subsection autotoc_md1835 Minor Changes

- New type-safe &lt;tt&gt;href&lt;/tt&gt; utility that guarantees links point to actual paths in your app (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13012">https://github.com/remix-run/react-router/pull/13012</a>" &gt;#13012&lt;/a&gt;)

  @icode{tsx} 
  import { href } from "react-router";

  export default function Component() {
    const link = href("/blog/:slug", { slug: "my-first-post" });
    return (
      &lt;main&gt;
        &lt;Link to={href("/products/:id", { id: "asdf" })} /&gt;
        &lt;NavLink to={href("/:lang?/about", { lang: "en" })} /&gt;
      &lt;/main&gt;
    );
  }
  @endicode 

@subsection autotoc_md1836 Patch Changes

- Fix typegen for repeated params (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13012">https://github.com/remix-run/react-router/pull/13012</a>" &gt;#13012&lt;/a&gt;)

  In React Router, path parameters are keyed by their name.
  So for a path pattern like &lt;tt&gt;/a/:id/b/:id?/c/:id&lt;/tt&gt;, the last &lt;tt&gt;:id&lt;/tt&gt; will set the value for &lt;tt&gt;id&lt;/tt&gt; in &lt;tt&gt;useParams&lt;/tt&gt; and the &lt;tt&gt;params&lt;/tt&gt; prop.
  For example, &lt;tt&gt;/a/1/b/2/c/3&lt;/tt&gt; will result in the value &lt;tt&gt;{ id: 3 }&lt;/tt&gt; at runtime.

  Previously, generated types for params incorrectly modeled repeated params with an array.
  So &lt;tt&gt;/a/1/b/2/c/3&lt;/tt&gt; generated a type like &lt;tt&gt;{ id: [1,2,3] }&lt;/tt&gt;.

  To be consistent with runtime behavior, the generated types now correctly model the "last one wins" semantics of path parameters.
  So &lt;tt&gt;/a/1/b/2/c/3&lt;/tt&gt; now generates a type like &lt;tt&gt;{ id: 3 }&lt;/tt&gt;.

- Don't apply Single Fetch revalidation de-optimization when in SPA mode since there is no server HTTP request (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12948">https://github.com/remix-run/react-router/pull/12948</a>" &gt;#12948&lt;/a&gt;)

- Properly handle revalidations to across a prerender/SPA boundary (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13021">https://github.com/remix-run/react-router/pull/13021</a>" &gt;#13021&lt;/a&gt;)
  - In "hybrid" applications where some routes are pre-rendered and some are served from a SPA fallback, we need to avoid making &lt;tt&gt;.data&lt;/tt&gt; requests if the path wasn't pre-rendered because the request will 404
  - We don't know all the pre-rendered paths client-side, however:
    - All &lt;tt&gt;loader&lt;/tt&gt; data in &lt;tt&gt;ssr:false&lt;/tt&gt; mode is static because it's generated at build time
    - A route must use a &lt;tt&gt;clientLoader&lt;/tt&gt; to do anything dynamic
    - Therefore, if a route only has a &lt;tt&gt;loader&lt;/tt&gt; and not a &lt;tt&gt;clientLoader&lt;/tt&gt;, we disable revalidation by default because there is no new data to retrieve
    - We short circuit and skip single fetch &lt;tt&gt;.data&lt;/tt&gt; request logic if there are no server loaders with &lt;tt&gt;shouldLoad=true&lt;/tt&gt; in our single fetch &lt;tt&gt;dataStrategy&lt;/tt&gt;
    - This ensures that the route doesn't cause a &lt;tt&gt;.data&lt;/tt&gt; request that would 404 after a submission

- Error at build time in &lt;tt&gt;ssr:false&lt;/tt&gt; + &lt;tt&gt;prerender&lt;/tt&gt; apps for the edge case scenario of: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/13021">https://github.com/remix-run/react-router/pull/13021</a>" &gt;#13021&lt;/a&gt;)
  - A parent route has only a &lt;tt&gt;loader&lt;/tt&gt; (does not have a &lt;tt&gt;clientLoader&lt;/tt&gt;)
  - The parent route is pre-rendered
  - The parent route has children routes which are not prerendered
  - This means that when the child paths are loaded via the SPA fallback, the parent won't have any &lt;tt&gt;loaderData&lt;/tt&gt; because there is no server on which to run the &lt;tt&gt;loader&lt;/tt&gt;
  - This can be resolved by either adding a parent &lt;tt&gt;clientLoader&lt;/tt&gt; or pre-rendering the child paths
  - If you add a &lt;tt&gt;clientLoader&lt;/tt&gt;, calling the &lt;tt&gt;serverLoader()&lt;/tt&gt; on non-prerendered paths will throw a 404

- Add unstable support for splitting route modules in framework mode via &lt;tt&gt;future.unstable_splitRouteModules&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11871">https://github.com/remix-run/react-router/pull/11871</a>" &gt;#11871&lt;/a&gt;)

- Add &lt;tt&gt;unstable_SerializesTo&lt;/tt&gt; brand type for library authors to register types serializable by React Router's streaming format (&lt;tt&gt;turbo-stream&lt;/tt&gt;) (&lt;a href="<a href="https://github.com/remix-run/react-router/commit/ab5b05b02f99f062edb3c536c392197c88eb6c77">https://github.com/remix-run/react-router/commit/ab5b05b02f99f062edb3c536c392197c88eb6c77</a>" &gt;&lt;tt&gt;ab5b05b02&lt;/tt&gt;&lt;/a&gt;)

- Align dev server behavior with static file server behavior when &lt;tt&gt;ssr:false&lt;/tt&gt; is set (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12948">https://github.com/remix-run/react-router/pull/12948</a>" &gt;#12948&lt;/a&gt;)
  - When no &lt;tt&gt;prerender&lt;/tt&gt; config exists, only SSR down to the root &lt;tt&gt;HydrateFallback&lt;/tt&gt; (SPA Mode)
  - When a &lt;tt&gt;prerender&lt;/tt&gt; config exists but the current path is not prerendered, only SSR down to the root &lt;tt&gt;HydrateFallback&lt;/tt&gt; (SPA Fallback)
  - Return a 404 on &lt;tt&gt;.data&lt;/tt&gt; requests to non-pre-rendered paths

- Improve prefetch performance of CSS side effects in framework mode (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12889">https://github.com/remix-run/react-router/pull/12889</a>" &gt;#12889&lt;/a&gt;)

- Disable Lazy Route Discovery for all &lt;tt&gt;ssr:false&lt;/tt&gt; apps and not just "SPA Mode" because there is no runtime server to serve the search-param-configured &lt;tt&gt;__manifest&lt;/tt&gt; requests (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12894">https://github.com/remix-run/react-router/pull/12894</a>" &gt;#12894&lt;/a&gt;)
  - We previously only disabled this for "SPA Mode" which is &lt;tt&gt;ssr:false&lt;/tt&gt; and no &lt;tt&gt;prerender&lt;/tt&gt; config but we realized it should apply to all &lt;tt&gt;ssr:false&lt;/tt&gt; apps, including those prerendering multiple pages
  - In those &lt;tt&gt;prerender&lt;/tt&gt; scenarios we would prerender the &lt;tt&gt;/__manifest&lt;/tt&gt; file assuming the static file server would serve it but that makes some unneccesary assumptions about the static file server behaviors

- Properly handle interrupted manifest requests in lazy route discovery (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12915">https://github.com/remix-run/react-router/pull/12915</a>" &gt;#12915&lt;/a&gt;)

@section autotoc_md1837 7.1.5

@subsection autotoc_md1838 Patch Changes

- Fix regression introduced in &lt;tt&gt;7.1.4&lt;/tt&gt; via &lt;a href="<a href="https://github.com/remix-run/react-router/pull/12800">https://github.com/remix-run/react-router/pull/12800</a>" &gt;#12800&lt;/a&gt; that caused issues navigating to hash routes inside splat routes for applications using Lazy Route Discovery (&lt;tt&gt;patchRoutesOnNavigation&lt;/tt&gt;) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12927">https://github.com/remix-run/react-router/pull/12927</a>" &gt;#12927&lt;/a&gt;)

@section autotoc_md1839 7.1.4

@subsection autotoc_md1840 Patch Changes

- Internal reorg to clean up some duplicated route module types (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12799">https://github.com/remix-run/react-router/pull/12799</a>" &gt;#12799&lt;/a&gt;)
- Properly handle status codes that cannot have a body in single fetch responses (204, etc.) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12760">https://github.com/remix-run/react-router/pull/12760</a>" &gt;#12760&lt;/a&gt;)
- Stop erroring on resource routes that return raw strings/objects and instead serialize them as &lt;tt&gt;text/plain&lt;/tt&gt; or &lt;tt&gt;application/json&lt;/tt&gt; responses (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12848">https://github.com/remix-run/react-router/pull/12848</a>" &gt;#12848&lt;/a&gt;)
  - This only applies when accessed as a resource route without the &lt;tt&gt;.data&lt;/tt&gt; extension
  - When accessed from a Single Fetch &lt;tt&gt;.data&lt;/tt&gt; request, they will still be encoded via &lt;tt&gt;turbo-stream&lt;/tt&gt;
- Optimize Lazy Route Discovery path discovery to favor a single &lt;tt&gt;querySelectorAll&lt;/tt&gt; call at the &lt;tt&gt;body&lt;/tt&gt; level instead of many calls at the sub-tree level (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12731">https://github.com/remix-run/react-router/pull/12731</a>" &gt;#12731&lt;/a&gt;)
- Properly bubble headers as &lt;tt&gt;errorHeaders&lt;/tt&gt; when throwing a &lt;tt&gt;data()&lt;/tt&gt; result (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12846">https://github.com/remix-run/react-router/pull/12846</a>" &gt;#12846&lt;/a&gt;)
  - Avoid duplication of &lt;tt&gt;Set-Cookie&lt;/tt&gt; headers could be duplicated if also returned from &lt;tt&gt;headers&lt;/tt&gt;
- Optimize route matching by skipping redundant &lt;tt&gt;matchRoutes&lt;/tt&gt; calls when possible (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12800">https://github.com/remix-run/react-router/pull/12800</a>" &gt;#12800&lt;/a&gt;)

@section autotoc_md1841 7.1.3

&lt;em&gt;No changes&lt;/em&gt;

@section autotoc_md1842 7.1.2

@subsection autotoc_md1843 Patch Changes

- Fix issue with fetcher data cleanup in the data layer on fetcher unmount (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12681">https://github.com/remix-run/react-router/pull/12681</a>" &gt;#12681&lt;/a&gt;)
- Do not rely on &lt;tt&gt;symbol&lt;/tt&gt; for filtering out &lt;tt&gt;redirect&lt;/tt&gt; responses from loader data (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12694">https://github.com/remix-run/react-router/pull/12694</a>" &gt;#12694&lt;/a&gt;)

  Previously, some projects were getting type checking errors like:

  @icode{ts} 
  error TS4058: Return type of exported function has or is using name 'redirectSymbol' from external module "node_modules/..." but cannot be named.
  @endicode 

  Now that &lt;tt&gt;symbol&lt;/tt&gt;s are not used for the &lt;tt&gt;redirect&lt;/tt&gt; response type, these errors should no longer be present.

@section autotoc_md1844 7.1.1

&lt;em&gt;No changes&lt;/em&gt;

@section autotoc_md1845 7.1.0

@subsection autotoc_md1846 Patch Changes

- Throw unwrapped single fetch redirect to align with pre-single fetch behavior (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12506">https://github.com/remix-run/react-router/pull/12506</a>" &gt;#12506&lt;/a&gt;)
- Ignore redirects when inferring loader data types (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12527">https://github.com/remix-run/react-router/pull/12527</a>" &gt;#12527&lt;/a&gt;)
- Remove &lt;tt&gt;\&lt;Link prefetch\&gt;&lt;/tt&gt; warning which suffers from false positives in a lazy route discovery world (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12485">https://github.com/remix-run/react-router/pull/12485</a>" &gt;#12485&lt;/a&gt;)

@section autotoc_md1847 7.0.2

@subsection autotoc_md1848 Patch Changes

- temporarily only use one build in export map so packages can have a peer dependency on react router (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12437">https://github.com/remix-run/react-router/pull/12437</a>" &gt;#12437&lt;/a&gt;)
- Generate wide &lt;tt&gt;matches&lt;/tt&gt; and &lt;tt&gt;params&lt;/tt&gt; types for current route and child routes (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12397">https://github.com/remix-run/react-router/pull/12397</a>" &gt;#12397&lt;/a&gt;)

  At runtime, &lt;tt&gt;matches&lt;/tt&gt; includes child route matches and &lt;tt&gt;params&lt;/tt&gt; include child route path parameters.
  But previously, we only generated types for parent routes in &lt;tt&gt;matches&lt;/tt&gt;; for &lt;tt&gt;params&lt;/tt&gt;, we only considered the parent routes and the current route.
  To align our generated types more closely to the runtime behavior, we now generate more permissive, wider types when accessing child route information.

@section autotoc_md1849 7.0.1

&lt;em&gt;No changes&lt;/em&gt;

@section autotoc_md1850 7.0.0

@subsection autotoc_md1851 Major Changes

- Remove the original &lt;tt&gt;defer&lt;/tt&gt; implementation in favor of using raw promises via single fetch and &lt;tt&gt;turbo-stream&lt;/tt&gt;. This removes these exports from React Router: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11744">https://github.com/remix-run/react-router/pull/11744</a>" &gt;#11744&lt;/a&gt;)
  - &lt;tt&gt;defer&lt;/tt&gt;
  - &lt;tt&gt;AbortedDeferredError&lt;/tt&gt;
  - &lt;tt&gt;type TypedDeferredData&lt;/tt&gt;
  - &lt;tt&gt;UNSAFE_DeferredData&lt;/tt&gt;
  - &lt;tt&gt;UNSAFE_DEFERRED_SYMBOL&lt;/tt&gt;,

- - Collapse &lt;tt&gt;\@remix-run/router&lt;/tt&gt; into &lt;tt&gt;react-router&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11505">https://github.com/remix-run/react-router/pull/11505</a>" &gt;#11505&lt;/a&gt;)
  - Collapse &lt;tt&gt;react-router-dom&lt;/tt&gt; into &lt;tt&gt;react-router&lt;/tt&gt;
  - Collapse &lt;tt&gt;\@remix-run/server-runtime&lt;/tt&gt; into &lt;tt&gt;react-router&lt;/tt&gt;
  - Collapse &lt;tt&gt;\@remix-run/testing&lt;/tt&gt; into &lt;tt&gt;react-router&lt;/tt&gt;

- Remove single fetch future flag. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11522">https://github.com/remix-run/react-router/pull/11522</a>" &gt;#11522&lt;/a&gt;)

- Drop support for Node 16, React Router SSR now requires Node 18 or higher (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11391">https://github.com/remix-run/react-router/pull/11391</a>" &gt;#11391&lt;/a&gt;)

- Remove &lt;tt&gt;future.v7_startTransition&lt;/tt&gt; flag (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11696">https://github.com/remix-run/react-router/pull/11696</a>" &gt;#11696&lt;/a&gt;)

- - Expose the underlying router promises from the following APIs for compsition in React 19 APIs: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11521">https://github.com/remix-run/react-router/pull/11521</a>" &gt;#11521&lt;/a&gt;)
    - &lt;tt&gt;useNavigate()&lt;/tt&gt;
    - &lt;tt&gt;useSubmit&lt;/tt&gt;
    - &lt;tt&gt;useFetcher().load&lt;/tt&gt;
    - &lt;tt&gt;useFetcher().submit&lt;/tt&gt;
    - &lt;tt&gt;useRevalidator.revalidate&lt;/tt&gt;

- Remove &lt;tt&gt;future.v7_normalizeFormMethod&lt;/tt&gt; future flag (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11697">https://github.com/remix-run/react-router/pull/11697</a>" &gt;#11697&lt;/a&gt;)

- For Remix consumers migrating to React Router, the &lt;tt&gt;crypto&lt;/tt&gt; global from the &lt;a href="<a href="https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API">https://developer.mozilla.org/en-US/docs/Web/API/Web_Crypto_API</a>" &gt;Web Crypto API&lt;/a&gt; is now required when using cookie and session APIs. This means that the following APIs are provided from &lt;tt&gt;react-router&lt;/tt&gt; rather than platform-specific packages: (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11837">https://github.com/remix-run/react-router/pull/11837</a>" &gt;#11837&lt;/a&gt;)

  - &lt;tt&gt;createCookie&lt;/tt&gt;
  - &lt;tt&gt;createCookieSessionStorage&lt;/tt&gt;
  - &lt;tt&gt;createMemorySessionStorage&lt;/tt&gt;
  - &lt;tt&gt;createSessionStorage&lt;/tt&gt;

  For consumers running older versions of Node, the &lt;tt&gt;installGlobals&lt;/tt&gt; function from &lt;tt&gt;\@remix-run/node&lt;/tt&gt; has been updated to define &lt;tt&gt;globalThis.crypto&lt;/tt&gt;, using &lt;a href="<a href="https://nodejs.org/api/webcrypto.html">https://nodejs.org/api/webcrypto.html</a>" &gt;Node's &lt;tt&gt;require('node:crypto').webcrypto&lt;/tt&gt; implementation.&lt;/a&gt;

  Since platform-specific packages no longer need to implement this API, the following low-level APIs have been removed:

  - &lt;tt&gt;createCookieFactory&lt;/tt&gt;
  - &lt;tt&gt;createSessionStorageFactory&lt;/tt&gt;
  - &lt;tt&gt;createCookieSessionStorageFactory&lt;/tt&gt;
  - &lt;tt&gt;createMemorySessionStorageFactory&lt;/tt&gt;

- Imports/Exports cleanup (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11840">https://github.com/remix-run/react-router/pull/11840</a>" &gt;#11840&lt;/a&gt;)
  - Removed the following exports that were previously public API from &lt;tt&gt;\@remix-run/router&lt;/tt&gt;
    - types
      - &lt;tt&gt;AgnosticDataIndexRouteObject&lt;/tt&gt;
      - &lt;tt&gt;AgnosticDataNonIndexRouteObject&lt;/tt&gt;
      - &lt;tt&gt;AgnosticDataRouteMatch&lt;/tt&gt;
      - &lt;tt&gt;AgnosticDataRouteObject&lt;/tt&gt;
      - &lt;tt&gt;AgnosticIndexRouteObject&lt;/tt&gt;
      - &lt;tt&gt;AgnosticNonIndexRouteObject&lt;/tt&gt;
      - &lt;tt&gt;AgnosticRouteMatch&lt;/tt&gt;
      - &lt;tt&gt;AgnosticRouteObject&lt;/tt&gt;
      - &lt;tt&gt;TrackedPromise&lt;/tt&gt;
      - &lt;tt&gt;unstable_AgnosticPatchRoutesOnMissFunction&lt;/tt&gt;
      - &lt;tt&gt;Action&lt;/tt&gt; -&gt; exported as &lt;tt&gt;NavigationType&lt;/tt&gt; via &lt;tt&gt;react-router&lt;/tt&gt;
      - &lt;tt&gt;Router&lt;/tt&gt; exported as &lt;tt&gt;DataRouter&lt;/tt&gt; to differentiate from RR's &lt;tt&gt;\&lt;Router\&gt;&lt;/tt&gt;
    - API
      - &lt;tt&gt;getToPathname&lt;/tt&gt; (&lt;tt&gt;\@private&lt;/tt&gt;)
      - &lt;tt&gt;joinPaths&lt;/tt&gt; (&lt;tt&gt;\@private&lt;/tt&gt;)
      - &lt;tt&gt;normalizePathname&lt;/tt&gt; (&lt;tt&gt;\@private&lt;/tt&gt;)
      - &lt;tt&gt;resolveTo&lt;/tt&gt; (&lt;tt&gt;\@private&lt;/tt&gt;)
      - &lt;tt&gt;stripBasename&lt;/tt&gt; (&lt;tt&gt;\@private&lt;/tt&gt;)
      - &lt;tt&gt;createBrowserHistory&lt;/tt&gt; -&gt; in favor of &lt;tt&gt;createBrowserRouter&lt;/tt&gt;
      - &lt;tt&gt;createHashHistory&lt;/tt&gt; -&gt; in favor of &lt;tt&gt;createHashRouter&lt;/tt&gt;
      - &lt;tt&gt;createMemoryHistory&lt;/tt&gt; -&gt; in favor of &lt;tt&gt;createMemoryRouter&lt;/tt&gt;
      - &lt;tt&gt;createRouter&lt;/tt&gt;
      - &lt;tt&gt;createStaticHandler&lt;/tt&gt; -&gt; in favor of wrapper &lt;tt&gt;createStaticHandler&lt;/tt&gt; in RR Dom
      - &lt;tt&gt;getStaticContextFromError&lt;/tt&gt;
  - Removed the following exports that were previously public API from &lt;tt&gt;react-router&lt;/tt&gt;
    - &lt;tt&gt;Hash&lt;/tt&gt;
    - &lt;tt&gt;Pathname&lt;/tt&gt;
    - &lt;tt&gt;Search&lt;/tt&gt;

- update minimum node version to 18 (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11690">https://github.com/remix-run/react-router/pull/11690</a>" &gt;#11690&lt;/a&gt;)

- Remove &lt;tt&gt;future.v7_prependBasename&lt;/tt&gt; from the ionternalized &lt;tt&gt;\@remix-run/router&lt;/tt&gt; package (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11726">https://github.com/remix-run/react-router/pull/11726</a>" &gt;#11726&lt;/a&gt;)

- Migrate Remix type generics to React Router (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12180">https://github.com/remix-run/react-router/pull/12180</a>" &gt;#12180&lt;/a&gt;)
  - These generics are provided for Remix v2 migration purposes
  - These generics and the APIs they exist on should be considered informally deprecated in favor of the new &lt;tt&gt;Route.*&lt;/tt&gt; types
  - Anyone migrating from React Router v6 should probably not leverage these new generics and should migrate straight to the &lt;tt&gt;Route.*&lt;/tt&gt; types
  - For React Router v6 users, these generics are new and should not impact your app, with one exception
    - &lt;tt&gt;useFetcher&lt;/tt&gt; previously had an optional generic (used primarily by Remix v2) that expected the data type
    - This has been updated in v7 to expect the type of the function that generates the data (i.e., &lt;tt&gt;typeof loader&lt;/tt&gt;/&lt;tt&gt;typeof action&lt;/tt&gt;)
    - Therefore, you should update your usages:
      - ‚ùå &lt;tt&gt;useFetcher\&lt;LoaderData\&gt;()&lt;/tt&gt;
      - ‚úÖ &lt;tt&gt;useFetcher\&lt;typeof loader\&gt;()&lt;/tt&gt;

- Remove &lt;tt&gt;future.v7_throwAbortReason&lt;/tt&gt; from internalized &lt;tt&gt;\@remix-run/router&lt;/tt&gt; package (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11728">https://github.com/remix-run/react-router/pull/11728</a>" &gt;#11728&lt;/a&gt;)

- Add &lt;tt&gt;exports&lt;/tt&gt; field to all packages (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11675">https://github.com/remix-run/react-router/pull/11675</a>" &gt;#11675&lt;/a&gt;)

- node package no longer re-exports from react-router (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11702">https://github.com/remix-run/react-router/pull/11702</a>" &gt;#11702&lt;/a&gt;)

- renamed RemixContext to FrameworkContext (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11705">https://github.com/remix-run/react-router/pull/11705</a>" &gt;#11705&lt;/a&gt;)

- updates the minimum React version to 18 (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11689">https://github.com/remix-run/react-router/pull/11689</a>" &gt;#11689&lt;/a&gt;)

- PrefetchPageDescriptor replaced by PageLinkDescriptor (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11960">https://github.com/remix-run/react-router/pull/11960</a>" &gt;#11960&lt;/a&gt;)

- - Consolidate types previously duplicated across &lt;tt&gt;\@remix-run/router&lt;/tt&gt;, &lt;tt&gt;\@remix-run/server-runtime&lt;/tt&gt;, and &lt;tt&gt;\@remix-run/react&lt;/tt&gt; now that they all live in &lt;tt&gt;react-router&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12177">https://github.com/remix-run/react-router/pull/12177</a>" &gt;#12177&lt;/a&gt;)
    - Examples: &lt;tt&gt;LoaderFunction&lt;/tt&gt;, &lt;tt&gt;LoaderFunctionArgs&lt;/tt&gt;, &lt;tt&gt;ActionFunction&lt;/tt&gt;, &lt;tt&gt;ActionFunctionArgs&lt;/tt&gt;, &lt;tt&gt;DataFunctionArgs&lt;/tt&gt;, &lt;tt&gt;RouteManifest&lt;/tt&gt;, &lt;tt&gt;LinksFunction&lt;/tt&gt;, &lt;tt&gt;Route&lt;/tt&gt;, &lt;tt&gt;EntryRoute&lt;/tt&gt;
    - The &lt;tt&gt;RouteManifest&lt;/tt&gt; type used by the "remix" code is now slightly stricter because it is using the former &lt;tt&gt;\@remix-run/router&lt;/tt&gt; &lt;tt&gt;RouteManifest&lt;/tt&gt;
      - &lt;tt&gt;Record\&lt;string, Route\&gt; -\&gt; Record\&lt;string, Route | undefined\&gt;&lt;/tt&gt;
    - Removed &lt;tt&gt;AppData&lt;/tt&gt; type in favor of inlining &lt;tt&gt;unknown&lt;/tt&gt; in the few locations it was used
    - Removed &lt;tt&gt;ServerRuntimeMeta*&lt;/tt&gt; types in favor of the &lt;tt&gt;Meta*&lt;/tt&gt; types they were duplicated from

- - Remove the &lt;tt&gt;future.v7_partialHydration&lt;/tt&gt; flag (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11725">https://github.com/remix-run/react-router/pull/11725</a>" &gt;#11725&lt;/a&gt;)
    - This also removes the &lt;tt&gt;\&lt;RouterProvider fallbackElement\&gt;&lt;/tt&gt; prop
      - To migrate, move the &lt;tt&gt;fallbackElement&lt;/tt&gt; to a &lt;tt&gt;hydrateFallbackElement&lt;/tt&gt;/&lt;tt&gt;HydrateFallback&lt;/tt&gt; on your root route
    - Also worth nothing there is a related breaking changer with this future flag:
      - Without &lt;tt&gt;future.v7_partialHydration&lt;/tt&gt; (when using &lt;tt&gt;fallbackElement&lt;/tt&gt;), &lt;tt&gt;state.navigation&lt;/tt&gt; was populated during the initial load
      - With &lt;tt&gt;future.v7_partialHydration&lt;/tt&gt;, &lt;tt&gt;state.navigation&lt;/tt&gt; remains in an &lt;tt&gt;\"idle\"&lt;/tt&gt; state during the initial load

- Remove &lt;tt&gt;v7_relativeSplatPath&lt;/tt&gt; future flag (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11695">https://github.com/remix-run/react-router/pull/11695</a>" &gt;#11695&lt;/a&gt;)

- Drop support for Node 18, update minimum Node vestion to 20 (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12171">https://github.com/remix-run/react-router/pull/12171</a>" &gt;#12171&lt;/a&gt;)
  - Remove &lt;tt&gt;installGlobals()&lt;/tt&gt; as this should no longer be necessary

- Remove remaining future flags (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11820">https://github.com/remix-run/react-router/pull/11820</a>" &gt;#11820&lt;/a&gt;)
  - React Router &lt;tt&gt;v7_skipActionErrorRevalidation&lt;/tt&gt;
  - Remix &lt;tt&gt;v3_fetcherPersist&lt;/tt&gt;, &lt;tt&gt;v3_relativeSplatPath&lt;/tt&gt;, &lt;tt&gt;v3_throwAbortReason&lt;/tt&gt;

- rename createRemixStub to createRoutesStub (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11692">https://github.com/remix-run/react-router/pull/11692</a>" &gt;#11692&lt;/a&gt;)

- Remove &lt;tt&gt;\@remix-run/router&lt;/tt&gt; deprecated &lt;tt&gt;detectErrorBoundary&lt;/tt&gt; option in favor of &lt;tt&gt;mapRouteProperties&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11751">https://github.com/remix-run/react-router/pull/11751</a>" &gt;#11751&lt;/a&gt;)

- Add &lt;tt&gt;react-router/dom&lt;/tt&gt; subpath export to properly enable &lt;tt&gt;react-dom&lt;/tt&gt; as an optional &lt;tt&gt;peerDependency&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11851">https://github.com/remix-run/react-router/pull/11851</a>" &gt;#11851&lt;/a&gt;)
  - This ensures that we don't blindly &lt;tt&gt;import ReactDOM from \"react-dom\"&lt;/tt&gt; in &lt;tt&gt;\&lt;RouterProvider\&gt;&lt;/tt&gt; in order to access &lt;tt&gt;ReactDOM.flushSync()&lt;/tt&gt;, since that would break &lt;tt&gt;createMemoryRouter&lt;/tt&gt; use cases in non-DOM environments
  - DOM environments should import from &lt;tt&gt;react-router/dom&lt;/tt&gt; to get the proper component that makes &lt;tt&gt;ReactDOM.flushSync()&lt;/tt&gt; available:
    - If you are using the Vite plugin, use this in your &lt;tt&gt;entry.client.tsx&lt;/tt&gt;:
      - &lt;tt&gt;import { HydratedRouter } from 'react-router/dom'&lt;/tt&gt;
    - If you are not using the Vite plugin and are manually calling &lt;tt&gt;createBrowserRouter&lt;/tt&gt;/&lt;tt&gt;createHashRouter&lt;/tt&gt;:
      - &lt;tt&gt;import { RouterProvider } from \"react-router/dom\"&lt;/tt&gt;

- Remove &lt;tt&gt;future.v7_fetcherPersist&lt;/tt&gt; flag (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11731">https://github.com/remix-run/react-router/pull/11731</a>" &gt;#11731&lt;/a&gt;)

- Update &lt;tt&gt;cookie&lt;/tt&gt; dependency to &lt;tt&gt;^1.0.1&lt;/tt&gt; - please see the &lt;a href="<a href="https://github.com/jshttp/cookie/releases">https://github.com/jshttp/cookie/releases</a>" &gt;release notes&lt;/a&gt; for any breaking changes (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12172">https://github.com/remix-run/react-router/pull/12172</a>" &gt;#12172&lt;/a&gt;)

@subsection autotoc_md1852 Minor Changes

- - Add support for &lt;tt&gt;prerender&lt;/tt&gt; config in the React Router vite plugin, to support existing SSG use-cases (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11539">https://github.com/remix-run/react-router/pull/11539</a>" &gt;#11539&lt;/a&gt;)
    - You can use the &lt;tt&gt;prerender&lt;/tt&gt; config to pre-render your &lt;tt&gt;.html&lt;/tt&gt; and &lt;tt&gt;.data&lt;/tt&gt; files at build time and then serve them statically at runtime (either from a running server or a CDN)
    - &lt;tt&gt;prerender&lt;/tt&gt; can either be an array of string paths, or a function (sync or async) that returns an array of strings so that you can dynamically generate the paths by talking to your CMS, etc.

  @icode{ts} 
  // react-router.config.ts
  import type { Config } from "@react-router/dev/config";

  export default {
    async prerender() {
      let slugs = await fakeGetSlugsFromCms();
      // Prerender these paths into `.html` files at build time, and `.data`
      // files if they have loaders
      return ["/", "/about", ...slugs.map((slug) =&gt; `/product/${slug}`)];
    },
  } satisfies Config;

  async function fakeGetSlugsFromCms() {
    await new Promise((r) =&gt; setTimeout(r, 1000));
    return ["shirt", "hat"];
  }
  @endicode 

- Params, loader data, and action data as props for route component exports (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11961">https://github.com/remix-run/react-router/pull/11961</a>" &gt;#11961&lt;/a&gt;)

  @icode{tsx} 
  export default function Component({ params, loaderData, actionData }) {}

  export function HydrateFallback({ params }) {}
  export function ErrorBoundary({ params, loaderData, actionData }) {}
  @endicode 

- Remove duplicate &lt;tt&gt;RouterProvider&lt;/tt&gt; impliementations (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11679">https://github.com/remix-run/react-router/pull/11679</a>" &gt;#11679&lt;/a&gt;)

- ### Typesafety improvements (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12019">https://github.com/remix-run/react-router/pull/12019</a>" &gt;#12019&lt;/a&gt;)

  React Router now generates types for each of your route modules.
  You can access those types by importing them from &lt;tt&gt;./+types.\&lt;route filename without extension\&gt;&lt;/tt&gt;.
  For example:

  @icode{ts} 
  // app/routes/product.tsx
  import type * as Route from "./+types.product";

  export function loader({ params }: Route.LoaderArgs) {}

  export default function Component({ loaderData }: Route.ComponentProps) {}
  @endicode 

  This initial implementation targets type inference for:

  - &lt;tt&gt;Params&lt;/tt&gt; : Path parameters from your routing config in &lt;tt&gt;routes.ts&lt;/tt&gt; including file-based routing
  - &lt;tt&gt;LoaderData&lt;/tt&gt; : Loader data from &lt;tt&gt;loader&lt;/tt&gt; and/or &lt;tt&gt;clientLoader&lt;/tt&gt; within your route module
  - &lt;tt&gt;ActionData&lt;/tt&gt; : Action data from &lt;tt&gt;action&lt;/tt&gt; and/or &lt;tt&gt;clientAction&lt;/tt&gt; within your route module

  In the future, we plan to add types for the rest of the route module exports: &lt;tt&gt;meta&lt;/tt&gt;, &lt;tt&gt;links&lt;/tt&gt;, &lt;tt&gt;headers&lt;/tt&gt;, &lt;tt&gt;shouldRevalidate&lt;/tt&gt;, etc.
  We also plan to generate types for typesafe &lt;tt&gt;Link&lt;/tt&gt;s:

  @icode{tsx} 
  &lt;Link to="/products/:id" params={{ id: 1 }} /&gt;
  //        ^^^^^^^^^^^^^          ^^^^^^^^^
  // typesafe `to` and `params` based on the available routes in your app
  @endicode 

  Check out our docs for more:

  - &lt;a href="<a href="https://reactrouter.com/dev/guides/explanation/type-safety">https://reactrouter.com/dev/guides/explanation/type-safety</a>" &gt;&lt;em&gt;Explanations &gt; Type Safety&lt;/em&gt;&lt;/a&gt;
  - &lt;a href="<a href="https://reactrouter.com/dev/guides/how-to/setting-up-type-safety">https://reactrouter.com/dev/guides/how-to/setting-up-type-safety</a>" &gt;&lt;em&gt;How-To &gt; Setting up type safety&lt;/em&gt;&lt;/a&gt;

- Stabilize &lt;tt&gt;unstable_dataStrategy&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11969">https://github.com/remix-run/react-router/pull/11969</a>" &gt;#11969&lt;/a&gt;)

- Stabilize &lt;tt&gt;unstable_patchRoutesOnNavigation&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11970">https://github.com/remix-run/react-router/pull/11970</a>" &gt;#11970&lt;/a&gt;)

@subsection autotoc_md1853 Patch Changes

- No changes (&lt;a href="<a href="https://github.com/remix-run/react-router/commit/506329c4e2e7aba9837cbfa44df6103b49423745">https://github.com/remix-run/react-router/commit/506329c4e2e7aba9837cbfa44df6103b49423745</a>" &gt;&lt;tt&gt;506329c4e&lt;/tt&gt;&lt;/a&gt;)

- chore: re-enable development warnings through a &lt;tt&gt;development&lt;/tt&gt; exports condition. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12269">https://github.com/remix-run/react-router/pull/12269</a>" &gt;#12269&lt;/a&gt;)

- Remove unstable upload handler. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12015">https://github.com/remix-run/react-router/pull/12015</a>" &gt;#12015&lt;/a&gt;)

- Remove unneeded dependency on @web3-storage/multipart-parser (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12274">https://github.com/remix-run/react-router/pull/12274</a>" &gt;#12274&lt;/a&gt;)

- Fix redirects returned from loaders/actions using &lt;tt&gt;data()&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12021">https://github.com/remix-run/react-router/pull/12021</a>" &gt;#12021&lt;/a&gt;)

- fix(react-router): (v7) fix static prerender of non-ascii characters (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12161">https://github.com/remix-run/react-router/pull/12161</a>" &gt;#12161&lt;/a&gt;)

- Replace &lt;tt&gt;substr&lt;/tt&gt; with &lt;tt&gt;substring&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12080">https://github.com/remix-run/react-router/pull/12080</a>" &gt;#12080&lt;/a&gt;)

- Remove the deprecated &lt;tt&gt;json&lt;/tt&gt; utility (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12146">https://github.com/remix-run/react-router/pull/12146</a>" &gt;#12146&lt;/a&gt;)
  - You can use &lt;a href="<a href="https://developer.mozilla.org/en-US/docs/Web/API/Response/json_static">https://developer.mozilla.org/en-US/docs/Web/API/Response/json_static</a>" &gt;&lt;tt&gt;Response.json&lt;/tt&gt;&lt;/a&gt; if you still need to construct JSON responses in your app

- Remove unneeded dependency on source-map (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12275">https://github.com/remix-run/react-router/pull/12275</a>" &gt;#12275&lt;/a&gt;)

@section autotoc_md1854 6.28.0

@subsection autotoc_md1855 Minor Changes

- - Log deprecation warnings for v7 flags (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11750">https://github.com/remix-run/react-router/pull/11750</a>" &gt;#11750&lt;/a&gt;)
  - Add deprecation warnings to &lt;tt&gt;json&lt;/tt&gt;/&lt;tt&gt;defer&lt;/tt&gt; in favor of returning raw objects
    - These methods will be removed in React Router v7

@subsection autotoc_md1856 Patch Changes

- Update JSDoc URLs for new website structure (add /v6/ segment) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12141">https://github.com/remix-run/react-router/pull/12141</a>" &gt;#12141&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.21.0&lt;/tt&gt;

@section autotoc_md1857 6.27.0

@subsection autotoc_md1858 Minor Changes

- Stabilize &lt;tt&gt;unstable_patchRoutesOnNavigation&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11973">https://github.com/remix-run/react-router/pull/11973</a>" &gt;#11973&lt;/a&gt;)
  - Add new &lt;tt&gt;PatchRoutesOnNavigationFunctionArgs&lt;/tt&gt; type for convenience (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11967">https://github.com/remix-run/react-router/pull/11967</a>" &gt;#11967&lt;/a&gt;)
- Stabilize &lt;tt&gt;unstable_dataStrategy&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11974">https://github.com/remix-run/react-router/pull/11974</a>" &gt;#11974&lt;/a&gt;)
- Stabilize the &lt;tt&gt;unstable_flushSync&lt;/tt&gt; option for navigations and fetchers (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11989">https://github.com/remix-run/react-router/pull/11989</a>" &gt;#11989&lt;/a&gt;)
- Stabilize the &lt;tt&gt;unstable_viewTransition&lt;/tt&gt; option for navigations and the corresponding &lt;tt&gt;unstable_useViewTransitionState&lt;/tt&gt; hook (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11989">https://github.com/remix-run/react-router/pull/11989</a>" &gt;#11989&lt;/a&gt;)

@subsection autotoc_md1859 Patch Changes

- Fix bug when submitting to the current contextual route (parent route with an index child) when an &lt;tt&gt;?index&lt;/tt&gt; param already exists from a prior submission (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12003">https://github.com/remix-run/react-router/pull/12003</a>" &gt;#12003&lt;/a&gt;)

- Fix &lt;tt&gt;useFormAction&lt;/tt&gt; bug - when removing &lt;tt&gt;?index&lt;/tt&gt; param it would not keep other non-Remix &lt;tt&gt;index&lt;/tt&gt; params (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/12003">https://github.com/remix-run/react-router/pull/12003</a>" &gt;#12003&lt;/a&gt;)

- Fix types for &lt;tt&gt;RouteObject&lt;/tt&gt; within &lt;tt&gt;PatchRoutesOnNavigationFunction&lt;/tt&gt;'s &lt;tt&gt;patch&lt;/tt&gt; method so it doesn't expect agnostic route objects passed to &lt;tt&gt;patch&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11967">https://github.com/remix-run/react-router/pull/11967</a>" &gt;#11967&lt;/a&gt;)

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.20.0&lt;/tt&gt;

@section autotoc_md1860 6.26.2

@subsection autotoc_md1861 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.19.2&lt;/tt&gt;

@section autotoc_md1862 6.26.1

@subsection autotoc_md1863 Patch Changes

- Rename &lt;tt&gt;unstable_patchRoutesOnMiss&lt;/tt&gt; to &lt;tt&gt;unstable_patchRoutesOnNavigation&lt;/tt&gt; to match new behavior (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11888">https://github.com/remix-run/react-router/pull/11888</a>" &gt;#11888&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.19.1&lt;/tt&gt;

@section autotoc_md1864 6.26.0

@subsection autotoc_md1865 Minor Changes

- Add a new &lt;tt&gt;replace(url, init?)&lt;/tt&gt; alternative to &lt;tt&gt;redirect(url, init?)&lt;/tt&gt; that performs a &lt;tt&gt;history.replaceState&lt;/tt&gt; instead of a &lt;tt&gt;history.pushState&lt;/tt&gt; on client-side navigation redirects (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11811">https://github.com/remix-run/react-router/pull/11811</a>" &gt;#11811&lt;/a&gt;)

@subsection autotoc_md1866 Patch Changes

- Fix initial hydration behavior when using &lt;tt&gt;future.v7_partialHydration&lt;/tt&gt; along with &lt;tt&gt;unstable_patchRoutesOnMiss&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11838">https://github.com/remix-run/react-router/pull/11838</a>" &gt;#11838&lt;/a&gt;)
  - During initial hydration, &lt;tt&gt;router.state.matches&lt;/tt&gt; will now include any partial matches so that we can render ancestor &lt;tt&gt;HydrateFallback&lt;/tt&gt; components
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.19.0&lt;/tt&gt;

@section autotoc_md1867 6.25.1

No significant changes to this package were made in this release. &lt;a href="<a href="https://github.com/remix-run/react-router/blob/main/CHANGELOG.md">https://github.com/remix-run/react-router/blob/main/CHANGELOG.md</a>" &gt;See the repo &lt;tt&gt;CHANGELOG.md&lt;/tt&gt;&lt;/a&gt; for an overview of all changes in v6.25.1.

@section autotoc_md1868 6.25.0

@subsection autotoc_md1869 Minor Changes

- Stabilize &lt;tt&gt;future.unstable_skipActionErrorRevalidation&lt;/tt&gt; as &lt;tt&gt;future.v7_skipActionErrorRevalidation&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11769">https://github.com/remix-run/react-router/pull/11769</a>" &gt;#11769&lt;/a&gt;)
  - When this flag is enabled, actions will not automatically trigger a revalidation if they return/throw a &lt;tt&gt;Response&lt;/tt&gt; with a &lt;tt&gt;4xx&lt;/tt&gt;/&lt;tt&gt;5xx&lt;/tt&gt; status code
  - You may still opt-into revalidation via &lt;tt&gt;shouldRevalidate&lt;/tt&gt;
  - This also changes &lt;tt&gt;shouldRevalidate&lt;/tt&gt;'s &lt;tt&gt;unstable_actionStatus&lt;/tt&gt; parameter to &lt;tt&gt;actionStatus&lt;/tt&gt;

@subsection autotoc_md1870 Patch Changes

- Fix regression and properly decode paths inside &lt;tt&gt;useMatch&lt;/tt&gt; so matches/params reflect decoded params (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11789">https://github.com/remix-run/react-router/pull/11789</a>" &gt;#11789&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.18.0&lt;/tt&gt;

@section autotoc_md1871 6.24.1

@subsection autotoc_md1872 Patch Changes

- When using &lt;tt&gt;future.v7_relativeSplatPath&lt;/tt&gt;, properly resolve relative paths in splat routes that are children of pathless routes (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11633">https://github.com/remix-run/react-router/pull/11633</a>" &gt;#11633&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.17.1&lt;/tt&gt;

@section autotoc_md1873 6.24.0

@subsection autotoc_md1874 Minor Changes

- Add support for Lazy Route Discovery (a.k.a. Fog of War) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11626">https://github.com/remix-run/react-router/pull/11626</a>" &gt;#11626&lt;/a&gt;)
  - RFC: &lt;https://github.com/remix-run/react-router/discussions/11113&gt;
  - &lt;tt&gt;unstable_patchRoutesOnMiss&lt;/tt&gt; docs: &lt;https://reactrouter.com/v6/routers/create-browser-router&gt;

@subsection autotoc_md1875 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.17.0&lt;/tt&gt;

@section autotoc_md1876 6.23.1

@subsection autotoc_md1877 Patch Changes

- allow undefined to be resolved with &lt;tt&gt;\&lt;Await\&gt;&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11513">https://github.com/remix-run/react-router/pull/11513</a>" &gt;#11513&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.16.1&lt;/tt&gt;

@section autotoc_md1878 6.23.0

@subsection autotoc_md1879 Minor Changes

- Add a new &lt;tt&gt;unstable_dataStrategy&lt;/tt&gt; configuration option (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11098">https://github.com/remix-run/react-router/pull/11098</a>" &gt;#11098&lt;/a&gt;)
  - This option allows Data Router applications to take control over the approach for executing route loaders and actions
  - The default implementation is today's behavior, to fetch all loaders in parallel, but this option allows users to implement more advanced data flows including Remix single-fetch, middleware/context APIs, automatic loader caching, and more

@subsection autotoc_md1880 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.16.0&lt;/tt&gt;

@section autotoc_md1881 6.22.3

@subsection autotoc_md1882 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.15.3&lt;/tt&gt;

@section autotoc_md1883 6.22.2

@subsection autotoc_md1884 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.15.2&lt;/tt&gt;

@section autotoc_md1885 6.22.1

@subsection autotoc_md1886 Patch Changes

- Fix encoding/decoding issues with pre-encoded dynamic parameter values (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11199">https://github.com/remix-run/react-router/pull/11199</a>" &gt;#11199&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.15.1&lt;/tt&gt;

@section autotoc_md1887 6.22.0

@subsection autotoc_md1888 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.15.0&lt;/tt&gt;

@section autotoc_md1889 6.21.3

@subsection autotoc_md1890 Patch Changes

- Remove leftover &lt;tt&gt;unstable_&lt;/tt&gt; prefix from &lt;tt&gt;Blocker&lt;/tt&gt;/&lt;tt&gt;BlockerFunction&lt;/tt&gt; types (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11187">https://github.com/remix-run/react-router/pull/11187</a>" &gt;#11187&lt;/a&gt;)

@section autotoc_md1891 6.21.2

@subsection autotoc_md1892 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.14.2&lt;/tt&gt;

@section autotoc_md1893 6.21.1

@subsection autotoc_md1894 Patch Changes

- Fix bug with &lt;tt&gt;route.lazy&lt;/tt&gt; not working correctly on initial SPA load when &lt;tt&gt;v7_partialHydration&lt;/tt&gt; is specified (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11121">https://github.com/remix-run/react-router/pull/11121</a>" &gt;#11121&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.14.1&lt;/tt&gt;

@section autotoc_md1895 6.21.0

@subsection autotoc_md1896 Minor Changes

- Add a new &lt;tt&gt;future.v7_relativeSplatPath&lt;/tt&gt; flag to implement a breaking bug fix to relative routing when inside a splat route. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11087">https://github.com/remix-run/react-router/pull/11087</a>" &gt;#11087&lt;/a&gt;)

  This fix was originally added in &lt;a href="<a href="https://github.com/remix-run/react-router/issues/10983">https://github.com/remix-run/react-router/issues/10983</a>" &gt;#10983&lt;/a&gt; and was later reverted in &lt;a href="<a href="https://github.com/remix-run/react-router/pull/11078">https://github.com/remix-run/react-router/pull/11078</a>" &gt;#11078&lt;/a&gt; because it was determined that a large number of existing applications were relying on the buggy behavior (see &lt;a href="<a href="https://github.com/remix-run/react-router/issues/11052">https://github.com/remix-run/react-router/issues/11052</a>" &gt;#11052&lt;/a&gt;)

  &lt;strong&gt;The Bug&lt;/strong&gt;
  The buggy behavior is that without this flag, the default behavior when resolving relative paths is to &lt;em&gt;ignore&lt;/em&gt; any splat (&lt;tt&gt;*&lt;/tt&gt;) portion of the current route path.

  &lt;strong&gt;The Background&lt;/strong&gt;
  This decision was originally made thinking that it would make the concept of nested different sections of your apps in &lt;tt&gt;\&lt;Routes\&gt;&lt;/tt&gt; easier if relative routing would &lt;em&gt;replace&lt;/em&gt; the current splat:

  @icode{jsx} 
  &lt;BrowserRouter&gt;
    &lt;Routes&gt;
      &lt;Route path="/" element={&lt;Home /&gt;} /&gt;
      &lt;Route path="dashboard/*" element={&lt;Dashboard /&gt;} /&gt;
    &lt;/Routes&gt;
  &lt;/BrowserRouter&gt;
  @endicode 

  Any paths like &lt;tt&gt;/dashboard&lt;/tt&gt;, &lt;tt&gt;/dashboard/team&lt;/tt&gt;, &lt;tt&gt;/dashboard/projects&lt;/tt&gt; will match the &lt;tt&gt;Dashboard&lt;/tt&gt; route. The dashboard component itself can then render nested &lt;tt&gt;\&lt;Routes\&gt;&lt;/tt&gt;:

  @icode{jsx} 
  function Dashboard() {
    return (
      &lt;div&gt;
        &lt;h2&gt;Dashboard&lt;/h2&gt;
        &lt;nav&gt;
          &lt;Link to="/"&gt;Dashboard Home&lt;/Link&gt;
          &lt;Link to="team"&gt;Team&lt;/Link&gt;
          &lt;Link to="projects"&gt;Projects&lt;/Link&gt;
        &lt;/nav&gt;

        &lt;Routes&gt;
          &lt;Route path="/" element={&lt;DashboardHome /&gt;} /&gt;
          &lt;Route path="team" element={&lt;DashboardTeam /&gt;} /&gt;
          &lt;Route path="projects" element={&lt;DashboardProjects /&gt;} /&gt;
        &lt;/Routes&gt;
      &lt;/div&gt;
    );
  }
  @endicode 

  Now, all links and route paths are relative to the router above them. This makes code splitting and compartmentalizing your app really easy. You could render the &lt;tt&gt;Dashboard&lt;/tt&gt; as its own independent app, or embed it into your large app without making any changes to it.

  &lt;strong&gt;The Problem&lt;/strong&gt;

  The problem is that this concept of ignoring part of a path breaks a lot of other assumptions in React Router - namely that &lt;tt&gt;\".\"&lt;/tt&gt; always means the current location pathname for that route. When we ignore the splat portion, we start getting invalid paths when using &lt;tt&gt;\".\"&lt;/tt&gt;:

  @icode{jsx} 
  // If we are on URL /dashboard/team, and we want to link to /dashboard/team:
  function DashboardTeam() {
    // ‚ùå This is broken and results in &lt;a href="/dashboard"&gt;
    return &lt;Link to="."&gt;A broken link to the Current URL&lt;/Link&gt;;

    // ‚úÖ This is fixed but super unintuitive since we're already at /dashboard/team!
    return &lt;Link to="./team"&gt;A broken link to the Current URL&lt;/Link&gt;;
  }
  @endicode 

  We've also introduced an issue that we can no longer move our &lt;tt&gt;DashboardTeam&lt;/tt&gt; component around our route hierarchy easily - since it behaves differently if we're underneath a non-splat route, such as &lt;tt&gt;/dashboard/:widget&lt;/tt&gt;. Now, our &lt;tt&gt;\".\"&lt;/tt&gt; links will, properly point to ourself &lt;em&gt;inclusive of the dynamic param value&lt;/em&gt; so behavior will break from it's corresponding usage in a &lt;tt&gt;/dashboard/*&lt;/tt&gt; route.

  Even worse, consider a nested splat route configuration:

  @icode{jsx} 
  &lt;BrowserRouter&gt;
    &lt;Routes&gt;
      &lt;Route path="dashboard"&gt;
        &lt;Route path="*" element={&lt;Dashboard /&gt;} /&gt;
      &lt;/Route&gt;
    &lt;/Routes&gt;
  &lt;/BrowserRouter&gt;
  @endicode 

  Now, a &lt;tt&gt;\&lt;Link to=\".\"\&gt;&lt;/tt&gt; and a &lt;tt&gt;\&lt;Link to=\"..\"\&gt;&lt;/tt&gt; inside the &lt;tt&gt;Dashboard&lt;/tt&gt; component go to the same place! That is definitely not correct!

  Another common issue arose in Data Routers (and Remix) where any &lt;tt&gt;\&lt;Form\&gt;&lt;/tt&gt; should post to it's own route &lt;tt&gt;action&lt;/tt&gt; if you the user doesn't specify a form action:

  @icode{jsx} 
  let router = createBrowserRouter({
    path: "/dashboard",
    children: [
      {
        path: "*",
        action: dashboardAction,
        Component() {
          // ‚ùå This form is broken!  It throws a 405 error when it submits because
          // it tries to submit to /dashboard (without the splat value) and the parent
          // `/dashboard` route doesn't have an action
          return &lt;Form method="post"&gt;...&lt;/Form&gt;;
        },
      },
    ],
  });
  @endicode 

  This is just a compounded issue from the above because the default location for a &lt;tt&gt;Form&lt;/tt&gt; to submit to is itself (&lt;tt&gt;\".\"&lt;/tt&gt;) - and if we ignore the splat portion, that now resolves to the parent route.

  &lt;strong&gt;The Solution&lt;/strong&gt;
  If you are leveraging this behavior, it's recommended to enable the future flag, move your splat to it's own route, and leverage &lt;tt&gt;../&lt;/tt&gt; for any links to "sibling" pages:

  @icode{jsx} 
  &lt;BrowserRouter&gt;
    &lt;Routes&gt;
      &lt;Route path="dashboard"&gt;
        &lt;Route index path="*" element={&lt;Dashboard /&gt;} /&gt;
      &lt;/Route&gt;
    &lt;/Routes&gt;
  &lt;/BrowserRouter&gt;

  function Dashboard() {
    return (
      &lt;div&gt;
        &lt;h2&gt;Dashboard&lt;/h2&gt;
        &lt;nav&gt;
          &lt;Link to=".."&gt;Dashboard Home&lt;/Link&gt;
          &lt;Link to="../team"&gt;Team&lt;/Link&gt;
          &lt;Link to="../projects"&gt;Projects&lt;/Link&gt;
        &lt;/nav&gt;

        &lt;Routes&gt;
          &lt;Route path="/" element={&lt;DashboardHome /&gt;} /&gt;
          &lt;Route path="team" element={&lt;DashboardTeam /&gt;} /&gt;
          &lt;Route path="projects" element={&lt;DashboardProjects /&gt;} /&gt;
        &lt;/Router&gt;
      &lt;/div&gt;
    );
  }
  @endicode 

  This way, &lt;tt&gt;.&lt;/tt&gt; means "the full current pathname for my route" in all cases (including static, dynamic, and splat routes) and &lt;tt&gt;..&lt;/tt&gt; always means "my parents pathname".

@subsection autotoc_md1897 Patch Changes

- Properly handle falsy error values in ErrorBoundary's (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11071">https://github.com/remix-run/react-router/pull/11071</a>" &gt;#11071&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.14.0&lt;/tt&gt;

@section autotoc_md1898 6.20.1

@subsection autotoc_md1899 Patch Changes

- Revert the &lt;tt&gt;useResolvedPath&lt;/tt&gt; fix for splat routes due to a large number of applications that were relying on the buggy behavior (see &lt;https://github.com/remix-run/react-router/issues/11052#issuecomment-1836589329&gt;). We plan to re-introduce this fix behind a future flag in the next minor version. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11078">https://github.com/remix-run/react-router/pull/11078</a>" &gt;#11078&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.13.1&lt;/tt&gt;

@section autotoc_md1900 6.20.0

@subsection autotoc_md1901 Minor Changes

- Export the &lt;tt&gt;PathParam&lt;/tt&gt; type from the public API (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10719">https://github.com/remix-run/react-router/pull/10719</a>" &gt;#10719&lt;/a&gt;)

@subsection autotoc_md1902 Patch Changes

- Fix bug with &lt;tt&gt;resolveTo&lt;/tt&gt; in splat routes (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11045">https://github.com/remix-run/react-router/pull/11045</a>" &gt;#11045&lt;/a&gt;)
  - This is a follow up to &lt;a href="<a href="https://github.com/remix-run/react-router/pull/10983">https://github.com/remix-run/react-router/pull/10983</a>" &gt;#10983&lt;/a&gt; to handle the few other code paths using &lt;tt&gt;getPathContributingMatches&lt;/tt&gt;
  - This removes the &lt;tt&gt;UNSAFE_getPathContributingMatches&lt;/tt&gt; export from &lt;tt&gt;\@remix-run/router&lt;/tt&gt; since we no longer need this in the &lt;tt&gt;react-router&lt;/tt&gt;/&lt;tt&gt;react-router-dom&lt;/tt&gt; layers
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.13.0&lt;/tt&gt;

@section autotoc_md1903 6.19.0

@subsection autotoc_md1904 Minor Changes

- Add &lt;tt&gt;unstable_flushSync&lt;/tt&gt; option to &lt;tt&gt;useNavigate&lt;/tt&gt;/&lt;tt&gt;useSumbit&lt;/tt&gt;/&lt;tt&gt;fetcher.load&lt;/tt&gt;/&lt;tt&gt;fetcher.submit&lt;/tt&gt; to opt-out of &lt;tt&gt;React.startTransition&lt;/tt&gt; and into &lt;tt&gt;ReactDOM.flushSync&lt;/tt&gt; for state updates (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11005">https://github.com/remix-run/react-router/pull/11005</a>" &gt;#11005&lt;/a&gt;)
- Remove the &lt;tt&gt;unstable_&lt;/tt&gt; prefix from the &lt;a href="<a href="https://reactrouter.com/v6/hooks/use-blocker">https://reactrouter.com/v6/hooks/use-blocker</a>" &gt;&lt;tt&gt;useBlocker&lt;/tt&gt;&lt;/a&gt; hook as it's been in use for enough time that we are confident in the API. We do not plan to remove the prefix from &lt;tt&gt;unstable_usePrompt&lt;/tt&gt; due to differences in how browsers handle &lt;tt&gt;window.confirm&lt;/tt&gt; that prevent React Router from guaranteeing consistent/correct behavior. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10991">https://github.com/remix-run/react-router/pull/10991</a>" &gt;#10991&lt;/a&gt;)

@subsection autotoc_md1905 Patch Changes

- Fix &lt;tt&gt;useActionData&lt;/tt&gt; so it returns proper contextual action data and not &lt;em&gt;any&lt;/em&gt; action data in the tree (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/11023">https://github.com/remix-run/react-router/pull/11023</a>" &gt;#11023&lt;/a&gt;)

- Fix bug in &lt;tt&gt;useResolvedPath&lt;/tt&gt; that would cause &lt;tt&gt;useResolvedPath(\".\")&lt;/tt&gt; in a splat route to lose the splat portion of the URL path. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10983">https://github.com/remix-run/react-router/pull/10983</a>" &gt;#10983&lt;/a&gt;)
  - ‚ö†Ô∏è This fixes a quite long-standing bug specifically for &lt;tt&gt;\".\"&lt;/tt&gt; paths inside a splat route which incorrectly dropped the splat portion of the URL. If you are relative routing via &lt;tt&gt;\".\"&lt;/tt&gt; inside a splat route in your application you should double check that your logic is not relying on this buggy behavior and update accordingly.

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.12.0&lt;/tt&gt;

@section autotoc_md1906 6.18.0

@subsection autotoc_md1907 Patch Changes

- Fix the &lt;tt&gt;future&lt;/tt&gt; prop on &lt;tt&gt;BrowserRouter&lt;/tt&gt;, &lt;tt&gt;HashRouter&lt;/tt&gt; and &lt;tt&gt;MemoryRouter&lt;/tt&gt; so that it accepts a &lt;tt&gt;Partial\&lt;FutureConfig\&gt;&lt;/tt&gt; instead of requiring all flags to be included. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10962">https://github.com/remix-run/react-router/pull/10962</a>" &gt;#10962&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.11.0&lt;/tt&gt;

@section autotoc_md1908 6.17.0

@subsection autotoc_md1909 Patch Changes

- Fix &lt;tt&gt;RouterProvider&lt;/tt&gt; &lt;tt&gt;future&lt;/tt&gt; prop type to be a &lt;tt&gt;Partial\&lt;FutureConfig\&gt;&lt;/tt&gt; so that not all flags must be specified (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10900">https://github.com/remix-run/react-router/pull/10900</a>" &gt;#10900&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.10.0&lt;/tt&gt;

@section autotoc_md1910 6.16.0

@subsection autotoc_md1911 Minor Changes

- In order to move towards stricter TypeScript support in the future, we're aiming to replace current usages of &lt;tt&gt;any&lt;/tt&gt; with &lt;tt&gt;unknown&lt;/tt&gt; on exposed typings for user-provided data. To do this in Remix v2 without introducing breaking changes in React Router v6, we have added generics to a number of shared types. These continue to default to &lt;tt&gt;any&lt;/tt&gt; in React Router and are overridden with &lt;tt&gt;unknown&lt;/tt&gt; in Remix. In React Router v7 we plan to move these to &lt;tt&gt;unknown&lt;/tt&gt; as a breaking change. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10843">https://github.com/remix-run/react-router/pull/10843</a>" &gt;#10843&lt;/a&gt;)
  - &lt;tt&gt;Location&lt;/tt&gt; now accepts a generic for the &lt;tt&gt;location.state&lt;/tt&gt; value
  - &lt;tt&gt;ActionFunctionArgs&lt;/tt&gt;/&lt;tt&gt;ActionFunction&lt;/tt&gt;/&lt;tt&gt;LoaderFunctionArgs&lt;/tt&gt;/&lt;tt&gt;LoaderFunction&lt;/tt&gt; now accept a generic for the &lt;tt&gt;context&lt;/tt&gt; parameter (only used in SSR usages via &lt;tt&gt;createStaticHandler&lt;/tt&gt;)
  - The return type of &lt;tt&gt;useMatches&lt;/tt&gt; (now exported as &lt;tt&gt;UIMatch&lt;/tt&gt;) accepts generics for &lt;tt&gt;match.data&lt;/tt&gt; and &lt;tt&gt;match.handle&lt;/tt&gt; - both of which were already set to &lt;tt&gt;unknown&lt;/tt&gt;
- Move the &lt;tt&gt;\@private&lt;/tt&gt; class export &lt;tt&gt;ErrorResponse&lt;/tt&gt; to an &lt;tt&gt;UNSAFE_ErrorResponseImpl&lt;/tt&gt; export since it is an implementation detail and there should be no construction of &lt;tt&gt;ErrorResponse&lt;/tt&gt; instances in userland. This frees us up to export a &lt;tt&gt;type ErrorResponse&lt;/tt&gt; which correlates to an instance of the class via &lt;tt&gt;InstanceType&lt;/tt&gt;. Userland code should only ever be using &lt;tt&gt;ErrorResponse&lt;/tt&gt; as a type and should be type-narrowing via &lt;tt&gt;isRouteErrorResponse&lt;/tt&gt;. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10811">https://github.com/remix-run/react-router/pull/10811</a>" &gt;#10811&lt;/a&gt;)
- Export &lt;tt&gt;ShouldRevalidateFunctionArgs&lt;/tt&gt; interface (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10797">https://github.com/remix-run/react-router/pull/10797</a>" &gt;#10797&lt;/a&gt;)
- Removed private/internal APIs only required for the Remix v1 backwards compatibility layer and no longer needed in Remix v2 (&lt;tt&gt;_isFetchActionRedirect&lt;/tt&gt;, &lt;tt&gt;_hasFetcherDoneAnything&lt;/tt&gt;) (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10715">https://github.com/remix-run/react-router/pull/10715</a>" &gt;#10715&lt;/a&gt;)

@subsection autotoc_md1912 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.9.0&lt;/tt&gt;

@section autotoc_md1913 6.15.0

@subsection autotoc_md1914 Minor Changes

- Add's a new &lt;tt&gt;redirectDocument()&lt;/tt&gt; function which allows users to specify that a redirect from a &lt;tt&gt;loader&lt;/tt&gt;/&lt;tt&gt;action&lt;/tt&gt; should trigger a document reload (via &lt;tt&gt;window.location&lt;/tt&gt;) instead of attempting to navigate to the redirected location via React Router (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10705">https://github.com/remix-run/react-router/pull/10705</a>" &gt;#10705&lt;/a&gt;)

@subsection autotoc_md1915 Patch Changes

- Ensure &lt;tt&gt;useRevalidator&lt;/tt&gt; is referentially stable across re-renders if revalidations are not actively occurring (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10707">https://github.com/remix-run/react-router/pull/10707</a>" &gt;#10707&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.8.0&lt;/tt&gt;

@section autotoc_md1916 6.14.2

@subsection autotoc_md1917 Patch Changes

- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.7.2&lt;/tt&gt;

@section autotoc_md1918 6.14.1

@subsection autotoc_md1919 Patch Changes

- Fix loop in &lt;tt&gt;unstable_useBlocker&lt;/tt&gt; when used with an unstable blocker function (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10652">https://github.com/remix-run/react-router/pull/10652</a>" &gt;#10652&lt;/a&gt;)
- Fix issues with reused blockers on subsequent navigations (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10656">https://github.com/remix-run/react-router/pull/10656</a>" &gt;#10656&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.7.1&lt;/tt&gt;

@section autotoc_md1920 6.14.0

@subsection autotoc_md1921 Patch Changes

- Strip &lt;tt&gt;basename&lt;/tt&gt; from locations provided to &lt;tt&gt;unstable_useBlocker&lt;/tt&gt; functions to match &lt;tt&gt;useLocation&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10573">https://github.com/remix-run/react-router/pull/10573</a>" &gt;#10573&lt;/a&gt;)
- Fix &lt;tt&gt;generatePath&lt;/tt&gt; when passed a numeric &lt;tt&gt;0&lt;/tt&gt; value parameter (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10612">https://github.com/remix-run/react-router/pull/10612</a>" &gt;#10612&lt;/a&gt;)
- Fix &lt;tt&gt;unstable_useBlocker&lt;/tt&gt; key issues in &lt;tt&gt;StrictMode&lt;/tt&gt; (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10573">https://github.com/remix-run/react-router/pull/10573</a>" &gt;#10573&lt;/a&gt;)
- Fix &lt;tt&gt;tsc --skipLibCheck:false&lt;/tt&gt; issues on React 17 (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10622">https://github.com/remix-run/react-router/pull/10622</a>" &gt;#10622&lt;/a&gt;)
- Upgrade &lt;tt&gt;typescript&lt;/tt&gt; to 5.1 (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10581">https://github.com/remix-run/react-router/pull/10581</a>" &gt;#10581&lt;/a&gt;)
- Updated dependencies:
  - &lt;tt&gt;\@remix-run/router\@1.7.0&lt;/tt&gt;

@section autotoc_md1922 6.13.0

@subsection autotoc_md1923 Minor Changes

- Move &lt;a href="<a href="https://react.dev/reference/react/startTransition">https://react.dev/reference/react/startTransition</a>" &gt;&lt;tt&gt;React.startTransition&lt;/tt&gt;&lt;/a&gt; usage behind a &lt;a href="<a href="https://reactrouter.com/v6/guides/api-development-strategy">https://reactrouter.com/v6/guides/api-development-strategy</a>" &gt;future flag&lt;/a&gt; to avoid issues with existing incompatible &lt;tt&gt;Suspense&lt;/tt&gt; usages. We recommend folks adopting this flag to be better compatible with React concurrent mode, but if you run into issues you can continue without the use of &lt;tt&gt;startTransition&lt;/tt&gt; until v7. Issues usually boils down to creating net-new promises during the render cycle, so if you run into issues you should either lift your promise creation out of the render cycle or put it behind a &lt;tt&gt;useMemo&lt;/tt&gt;. (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10596">https://github.com/remix-run/react-router/pull/10596</a>" &gt;#10596&lt;/a&gt;)

  Existing behavior will no longer include &lt;tt&gt;React.startTransition&lt;/tt&gt;:

  @icode{jsx} 
  &lt;BrowserRouter&gt;
    &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;
  &lt;/BrowserRouter&gt;

  &lt;RouterProvider router={router} /&gt;
  @endicode 

  If you wish to enable &lt;tt&gt;React.startTransition&lt;/tt&gt;, pass the future flag to your component:

  @icode{jsx} 
  &lt;BrowserRouter future={{ v7_startTransition: true }}&gt;
    &lt;Routes&gt;{/*...*/}&lt;/Routes&gt;
  &lt;/BrowserRouter&gt;

  &lt;RouterProvider router={router} future={{ v7_startTransition: true }}/&gt;
  @endicode 

@subsection autotoc_md1924 Patch Changes

- Work around webpack/terser &lt;tt&gt;React.startTransition&lt;/tt&gt; minification bug in production mode (&lt;a href="<a href="https://github.com/remix-run/react-router/pull/10588">https://github.com/remix-run/react-router/pull/10588</a>" &gt;#10588&lt;/a&gt;)

@section autotoc_md1925 6.12.1

&lt;blockquote&gt;&amp;zwj;[!WARNING]
Please use version &lt;tt&gt;6.13.0&lt;/tt&gt; or later instead of &lt;tt&gt;6.12.1&lt;/tt&gt;. This version suffers from a &lt;tt&gt;webpack&lt;/tt&gt;/&lt;tt&gt;terser&lt;/tt&gt; minification issue resulting in invalid minified code in your resulting production bundles which can cause issues in your application. See &lt;a href="<a href="https://github.com/remix-run/react-router/issues/10579">https://github.com/remix-run/react-router/issues/10579</a>" &gt;#10579</li>
</ul>
<p>for more details. </p>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1926"></a>
Patch Changes</h2>
<ul>
<li>Adjust feature detection of <span class="tt">React.startTransition</span> to fix webpack + react 17 compilation error (<a href="https://github.com/remix-run/react-router/pull/10569">#10569</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1927"></a>
6.12.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1928"></a>
Minor Changes</h2>
<ul>
<li>Wrap internal router state updates with <span class="tt">React.startTransition</span> if it exists (<a href="https://github.com/remix-run/react-router/pull/10438">#10438</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1929"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.6.3</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1930"></a>
6.11.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1931"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">basename</span> duplication in descendant <span class="tt">&lt;Routes&gt;</span> inside a <span class="tt">&lt;RouterProvider&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/10492">#10492</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.6.2</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1932"></a>
6.11.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1933"></a>
Patch Changes</h2>
<ul>
<li>Fix usage of <span class="tt">Component</span> API within descendant <span class="tt">&lt;Routes&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/10434">#10434</a>)</li>
<li>Fix bug when calling <span class="tt">useNavigate</span> from <span class="tt">&lt;Routes&gt;</span> inside a <span class="tt">&lt;RouterProvider&gt;</span> (<a href="https://github.com/remix-run/react-router/pull/10432">#10432</a>)</li>
<li>Fix usage of <span class="tt">&lt;Navigate&gt;</span> in strict mode when using a data router (<a href="https://github.com/remix-run/react-router/pull/10435">#10435</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.6.1</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1934"></a>
6.11.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1935"></a>
Patch Changes</h2>
<ul>
<li>Log loader/action errors to the console in dev for easier stack trace evaluation (<a href="https://github.com/remix-run/react-router/pull/10286">#10286</a>)</li>
<li>Fix bug preventing rendering of descendant <span class="tt">&lt;Routes&gt;</span> when <span class="tt">RouterProvider</span> errors existed (<a href="https://github.com/remix-run/react-router/pull/10374">#10374</a>)</li>
<li>Fix inadvertent re-renders when using <span class="tt">Component</span> instead of <span class="tt">element</span> on a route definition (<a href="https://github.com/remix-run/react-router/pull/10287">#10287</a>)</li>
<li>Fix detection of <span class="tt">useNavigate</span> in the render cycle by setting the <span class="tt">activeRef</span> in a layout effect, allowing the <span class="tt">navigate</span> function to be passed to child components and called in a <span class="tt">useEffect</span> there. (<a href="https://github.com/remix-run/react-router/pull/10394">#10394</a>)</li>
<li>Switched from <span class="tt">useSyncExternalStore</span> to <span class="tt">useState</span> for internal <span class="tt">@remix-run/router</span> router state syncing in <span class="tt">&lt;RouterProvider&gt;</span>. We found some <a href="https://codesandbox.io/s/use-sync-external-store-loop-9g7b81">subtle bugs</a> where router state updates got propagated <em>before</em> other normal <span class="tt">useState</span> updates, which could lead to footguns in <span class="tt">useEffect</span> calls. (<a href="https://github.com/remix-run/react-router/pull/10377">#10377</a>, <a href="https://github.com/remix-run/react-router/pull/10409">#10409</a>)</li>
<li>Allow <span class="tt">useRevalidator()</span> to resolve a loader-driven error boundary scenario (<a href="https://github.com/remix-run/react-router/pull/10369">#10369</a>)</li>
<li>Avoid unnecessary unsubscribe/resubscribes on router state changes (<a href="https://github.com/remix-run/react-router/pull/10409">#10409</a>)</li>
<li>When using a <span class="tt">RouterProvider</span>, <span class="tt">useNavigate</span>/<span class="tt">useSubmit</span>/<span class="tt">fetcher.submit</span> are now stable across location changes, since we can handle relative routing via the <span class="tt">@remix-run/router</span> instance and get rid of our dependence on <span class="tt">useLocation()</span>. When using <span class="tt">BrowserRouter</span>, these hooks remain unstable across location changes because they still rely on <span class="tt">useLocation()</span>. (<a href="https://github.com/remix-run/react-router/pull/10336">#10336</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.6.0</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1936"></a>
6.10.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1937"></a>
Minor Changes</h2>
<ul>
<li>Added support for <a href="https://reactrouter.com/v6/guides/api-development-strategy"><b>Future Flags</b></a> in React Router. The first flag being introduced is <span class="tt">future.v7_normalizeFormMethod</span> which will normalize the exposed <span class="tt">useNavigation()/useFetcher()</span> <span class="tt">formMethod</span> fields as uppercase HTTP methods to align with the <span class="tt">fetch()</span> behavior. (<a href="https://github.com/remix-run/react-router/pull/10207">#10207</a>)<ul>
<li>When <span class="tt">future.v7_normalizeFormMethod === false</span> (default v6 behavior),<ul>
<li><span class="tt">useNavigation().formMethod</span> is lowercase</li>
<li><span class="tt">useFetcher().formMethod</span> is lowercase</li>
</ul>
</li>
<li>When <span class="tt">future.v7_normalizeFormMethod === true</span>:<ul>
<li><span class="tt">useNavigation().formMethod</span> is uppercase</li>
<li><span class="tt">useFetcher().formMethod</span> is uppercase</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1938"></a>
Patch Changes</h2>
<ul>
<li>Fix route ID generation when using Fragments in <span class="tt">createRoutesFromElements</span> (<a href="https://github.com/remix-run/react-router/pull/10193">#10193</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.5.0</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1939"></a>
6.9.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1940"></a>
Minor Changes</h2>
<ul>
<li><p class="startli">React Router now supports an alternative way to define your route <span class="tt">element</span> and <span class="tt">errorElement</span> fields as React Components instead of React Elements. You can instead pass a React Component to the new <span class="tt">Component</span> and <span class="tt">ErrorBoundary</span> fields if you choose. There is no functional difference between the two, so use whichever approach you prefer üòÄ. You shouldn't be defining both, but if you do <span class="tt">Component</span>/<span class="tt">ErrorBoundary</span> will "win". (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli"><b>Example JSON Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  element: &lt;Home /&gt;,</div>
<div class="line">  errorElement: &lt;HomeError /&gt;,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">const componentRoutes = [{</div>
<div class="line">  path: &#39;/&#39;,</div>
<div class="line">  Component: Home,</div>
<div class="line">  ErrorBoundary: HomeError,</div>
<div class="line">}]</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --><p class="startli"><b>Example JSX Syntax</b></p>
<div class="fragment"><div class="line">// Both of these work the same:</div>
<div class="line">const elementRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; element={&lt;Home /&gt;} errorElement={&lt;HomeError /&gt; } /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">const componentRoutes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&#39;/&#39; Component={Home} ErrorBoundary={HomeError} /&gt;</div>
<div class="line">);</div>
<div class="line"> </div>
<div class="line">function Home() { ... }</div>
<div class="line">function HomeError() { ... }</div>
</div><!-- fragment --></li>
<li><p class="startli"><b>Introducing Lazy Route Modules!</b> (<a href="https://github.com/remix-run/react-router/pull/10045">#10045</a>)</p>
<p class="startli">In order to keep your application bundles small and support code-splitting of your routes, we've introduced a new <span class="tt">lazy()</span> route property. This is an async function that resolves the non-route-matching portions of your route definition (<span class="tt">loader</span>, <span class="tt">action</span>, <span class="tt">element</span>/<span class="tt">Component</span>, <span class="tt">errorElement</span>/<span class="tt">ErrorBoundary</span>, <span class="tt">shouldRevalidate</span>, <span class="tt">handle</span>).</p>
<p class="startli">Lazy routes are resolved on initial load and during the <span class="tt">loading</span> or <span class="tt">submitting</span> phase of a navigation or fetcher call. You cannot lazily define route-matching properties (<span class="tt">path</span>, <span class="tt">index</span>, <span class="tt">children</span>) since we only execute your lazy route functions after we've matched known routes.</p>
<p class="startli">Your <span class="tt">lazy</span> functions will typically return the result of a dynamic import.</p>
<div class="fragment"><div class="line">// In this example, we assume most folks land on the homepage so we include that</div>
<div class="line">// in our critical-path bundle, but then we lazily load modules for /a and /b so</div>
<div class="line">// they don&#39;t load until the user navigates to those routes</div>
<div class="line">let routes = createRoutesFromElements(</div>
<div class="line">  &lt;Route path=&quot;/&quot; element={&lt;Layout /&gt;}&gt;</div>
<div class="line">    &lt;Route index element={&lt;Home /&gt;} /&gt;</div>
<div class="line">    &lt;Route path=&quot;a&quot; lazy={() =&gt; import(&quot;./a&quot;)} /&gt;</div>
<div class="line">    &lt;Route path=&quot;b&quot; lazy={() =&gt; import(&quot;./b&quot;)} /&gt;</div>
<div class="line">  &lt;/Route&gt;,</div>
<div class="line">);</div>
</div><!-- fragment --><p class="startli">Then in your lazy route modules, export the properties you want defined for the route:</p>
<div class="fragment"><div class="line">export async function loader({ request }) {</div>
<div class="line">  let data = await fetchData(request);</div>
<div class="line">  return json(data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export a `Component` directly instead of needing to create a React Element from it</div>
<div class="line">export function Component() {</div>
<div class="line">  let data = useLoaderData();</div>
<div class="line"> </div>
<div class="line">  return (</div>
<div class="line">    &lt;&gt;</div>
<div class="line">      &lt;h1&gt;You made it!&lt;/h1&gt;</div>
<div class="line">      &lt;p&gt;{data}&lt;/p&gt;</div>
<div class="line">    &lt;/&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// Export an `ErrorBoundary` directly instead of needing to create a React Element from it</div>
<div class="line">export function ErrorBoundary() {</div>
<div class="line">  let error = useRouteError();</div>
<div class="line">  return isRouteErrorResponse(error) ? (</div>
<div class="line">    &lt;h1&gt;</div>
<div class="line">      {error.status} {error.statusText}</div>
<div class="line">    &lt;/h1&gt;</div>
<div class="line">  ) : (</div>
<div class="line">    &lt;h1&gt;{error.message || error}&lt;/h1&gt;</div>
<div class="line">  );</div>
<div class="line">}</div>
</div><!-- fragment --><p class="startli">An example of this in action can be found in the <a href="https://github.com/remix-run/react-router/tree/main/examples/lazy-loading-router-provider"><span class="tt">examples/lazy-loading-router-provider</span></a> directory of the repository.</p>
<p class="startli">üôå Huge thanks to @rossipedia for the <a href="https://github.com/remix-run/react-router/discussions/9826">Initial Proposal</a> and <a href="https://github.com/remix-run/react-router/pull/9830">POC Implementation</a>.</p>
</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.4.0</span></li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1941"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">generatePath</span> incorrectly applying parameters in some cases (<a href="https://github.com/remix-run/react-router/pull/10078">#10078</a>)</li>
<li>Improve memoization for context providers to avoid unnecessary re-renders (<a href="https://github.com/remix-run/react-router/pull/9983">#9983</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1942"></a>
6.8.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1943"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.3.3</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1944"></a>
6.8.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1945"></a>
Patch Changes</h2>
<ul>
<li>Remove inaccurate console warning for POP navigations and update active blocker logic (<a href="https://github.com/remix-run/react-router/pull/10030">#10030</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.3.2</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1946"></a>
6.8.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1947"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.3.1</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1948"></a>
6.7.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1949"></a>
Minor Changes</h2>
<ul>
<li>Add <span class="tt">unstable_useBlocker</span> hook for blocking navigations within the app's location origin (<a href="https://github.com/remix-run/react-router/pull/9709">#9709</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1950"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">generatePath</span> when optional params are present (<a href="https://github.com/remix-run/react-router/pull/9764">#9764</a>)</li>
<li>Update <span class="tt">&lt;Await&gt;</span> to accept <span class="tt">ReactNode</span> as children function return result (<a href="https://github.com/remix-run/react-router/pull/9896">#9896</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.3.0</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1951"></a>
6.6.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1952"></a>
Patch Changes</h2>
<ul>
<li>Ensure <span class="tt">useId</span> consistency during SSR (<a href="https://github.com/remix-run/react-router/pull/9805">#9805</a>)</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1953"></a>
6.6.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1954"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.2.1</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1955"></a>
6.6.0</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1956"></a>
Patch Changes</h2>
<ul>
<li>Prevent <span class="tt">useLoaderData</span> usage in <span class="tt">errorElement</span> (<a href="https://github.com/remix-run/react-router/pull/9735">#9735</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.2.0</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1957"></a>
6.5.0</h1>
<p>This release introduces support for <a href="https://github.com/remix-run/react-router/issues/9546">Optional Route Segments</a>. Now, adding a <span class="tt">?</span> to the end of any path segment will make that entire segment optional. This works for both static segments and dynamic parameters.</p>
<p><b>Optional Params Examples</b></p>
<ul>
<li><span class="tt">&lt;Route path=":lang?/about&gt;</span> will match:<ul>
<li><span class="tt">/:lang/about</span></li>
<li><span class="tt">/about</span></li>
</ul>
</li>
<li><span class="tt">&lt;Route path="/multistep/:widget1?/widget2?/widget3?"&gt;</span> will match:<ul>
<li><span class="tt">/multistep</span></li>
<li><span class="tt">/multistep/:widget1</span></li>
<li><span class="tt">/multistep/:widget1/:widget2</span></li>
<li><span class="tt">/multistep/:widget1/:widget2/:widget3</span></li>
</ul>
</li>
</ul>
<p><b>Optional Static Segment Example</b></p>
<ul>
<li><span class="tt">&lt;Route path="/home?"&gt;</span> will match:<ul>
<li><span class="tt">/</span></li>
<li><span class="tt">/home</span></li>
</ul>
</li>
<li><span class="tt">&lt;Route path="/fr?/about"&gt;</span> will match:<ul>
<li><span class="tt">/about</span></li>
<li><span class="tt">/fr/about</span></li>
</ul>
</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1958"></a>
Minor Changes</h2>
<ul>
<li>Allows optional routes and optional static segments (<a href="https://github.com/remix-run/react-router/pull/9650">#9650</a>)</li>
</ul>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1959"></a>
Patch Changes</h2>
<ul>
<li>Stop incorrectly matching on partial named parameters, i.e. <span class="tt">&lt;Route path="prefix-:param"&gt;</span>, to align with how splat parameters work. If you were previously relying on this behavior then it's recommended to extract the static portion of the path at the <span class="tt">useParams</span> call site: (<a href="https://github.com/remix-run/react-router/pull/9506">#9506</a>)</li>
</ul>
<div class="fragment"><div class="line">// Old behavior at URL /prefix-123</div>
<div class="line">&lt;Route path=&quot;prefix-:id&quot; element={&lt;Comp /&gt; }&gt;</div>
<div class="line"> </div>
<div class="line">function Comp() {</div>
<div class="line">  let params = useParams(); // { id: &#39;123&#39; }</div>
<div class="line">  let id = params.id; // &quot;123&quot;</div>
<div class="line">  ...</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">// New behavior at URL /prefix-123</div>
<div class="line">&lt;Route path=&quot;:id&quot; element={&lt;Comp /&gt; }&gt;</div>
<div class="line"> </div>
<div class="line">function Comp() {</div>
<div class="line">  let params = useParams(); // { id: &#39;prefix-123&#39; }</div>
<div class="line">  let id = params.id.replace(/^prefix-/, &#39;&#39;); // &quot;123&quot;</div>
<div class="line">  ...</div>
<div class="line">}</div>
</div><!-- fragment --><ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.1.0</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1960"></a>
6.4.5</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1961"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.0.5</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1962"></a>
6.4.4</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1963"></a>
Patch Changes</h2>
<ul>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.0.4</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1964"></a>
6.4.3</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1965"></a>
Patch Changes</h2>
<ul>
<li><span class="tt">useRoutes</span> should be able to return <span class="tt">null</span> when passing <span class="tt">locationArg</span> (<a href="https://github.com/remix-run/react-router/pull/9485">#9485</a>)</li>
<li>fix <span class="tt">initialEntries</span> type in <span class="tt">createMemoryRouter</span> (<a href="https://github.com/remix-run/react-router/pull/9498">#9498</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.0.3</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1966"></a>
6.4.2</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1967"></a>
Patch Changes</h2>
<ul>
<li>Fix <span class="tt">IndexRouteObject</span> and <span class="tt">NonIndexRouteObject</span> types to make <span class="tt">hasErrorElement</span> optional (<a href="https://github.com/remix-run/react-router/pull/9394">#9394</a>)</li>
<li>Enhance console error messages for invalid usage of data router hooks (<a href="https://github.com/remix-run/react-router/pull/9311">#9311</a>)</li>
<li>If an index route has children, it will result in a runtime error. We have strengthened our <span class="tt">RouteObject</span>/<span class="tt">RouteProps</span> types to surface the error in TypeScript. (<a href="https://github.com/remix-run/react-router/pull/9366">#9366</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.0.2</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1968"></a>
6.4.1</h1>
<h2 class="doxsection"><a class="anchor" id="autotoc_md1969"></a>
Patch Changes</h2>
<ul>
<li>Preserve state from <span class="tt">initialEntries</span> (<a href="https://github.com/remix-run/react-router/pull/9288">#9288</a>)</li>
<li>Updated dependencies:<ul>
<li><span class="tt">@remix-run/router@1.0.1</span></li>
</ul>
</li>
</ul>
<h1 class="doxsection"><a class="anchor" id="autotoc_md1970"></a>
6.4.0</h1>
<p>Whoa this is a big one! <span class="tt">6.4.0</span> brings all the data loading and mutation APIs over from Remix. Here's a quick high level overview, but it's recommended you go check out the <a href="https://reactrouter.com">docs</a>, especially the <a href="https://reactrouter.com/en/6.4.0/start/overview">feature overview</a> and the <a href="https://reactrouter.com/en/6.4.0/start/tutorial">tutorial</a>.</p>
<p><b>New APIs</b></p>
<ul>
<li>Create your router with <span class="tt">createMemoryRouter</span></li>
<li>Render your router with <span class="tt">&lt;RouterProvider&gt;</span></li>
<li>Load data with a Route <span class="tt">loader</span> and mutate with a Route <span class="tt">action</span></li>
<li>Handle errors with Route <span class="tt">errorElement</span></li>
<li>Defer non-critical data with <span class="tt">defer</span> and <span class="tt">Await</span></li>
</ul>
<p><b>Bug Fixes</b></p>
<ul>
<li>Path resolution is now trailing slash agnostic (#8861)</li>
<li><span class="tt">useLocation</span> returns the scoped location inside a <span class="tt">&lt;Routes location&gt;</span> component (#9094)</li>
</ul>
<p><b>Updated Dependencies</b></p>
<ul>
<li><span class="tt">@remix-run/router@1.0.0</span> </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<div id="page-nav" class="page-nav-panel">
<div id="page-nav-resize-handle"></div>
<div id="page-nav-tree">
<div id="page-nav-contents">
</div><!-- page-nav-contents -->
</div><!-- page-nav-tree -->
</div><!-- page-nav -->
</div><!-- container -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.16.1 </li>
  </ul>
</div>
</body>
</html>
